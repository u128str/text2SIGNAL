{
  "Unnamed: 0.1": 9890,
  "Unnamed: 0": 3796,
  "name": "Top Reasons for Late Payments by Category",
  "query": "SELECT  \"RCA category\"\n       ,\"Number of Invoices\"\nFROM\n(\n\t-- Short Payment Terms\n\tSELECT  'Short Payment Terms'    AS \"RCA category\"\n\t       ,COUNT( DISTINCT case_id) AS \"Number of Invoices\"\n\tFROM \"defaultview-225\"\n\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\"\n\tAND \"Last Inv. Item Due Date\" - \"Inv. Accounting Document Date\" < DURATION '7days' \n\tUNION ALL\n\t-- Posted AS Overdue\n\tSELECT  'Posted as Overdue'      AS \"RCA category\"\n\t       ,COUNT( DISTINCT case_id) AS \"Number of Invoices\"\n\tFROM \"defaultview-225\"\n\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\"\n\tAND \"Inv. Posting Document Date\" > \"Last Inv. Item Due Date\" \n\tUNION ALL\n\t-- High Rework Rate\n\tSELECT  CASE WHEN COUNT( DISTINCT case_id) FILTER (\n\tWHERE (\n\tSELECT  BOOL_OR (occurrence > 1)\n\tFROM\n\t(\n\t\tSELECT  OCCURRENCE(event_name) AS occurrence\n        WHERE event_name != 'Create Goods Receipt'\n\t) AS sub ) ) > 0 THEN 'High Rework Rate' END AS \"RCA category\", COUNT( DISTINCT case_id) FILTER (\n\tWHERE (\n\tSELECT  BOOL_OR (occurrence > 1)\n\tFROM\n\t(\n\t\tSELECT  OCCURRENCE(event_name) AS occurrence\n        WHERE event_name != 'Create Goods Receipt'\n\t) AS sub ) ) AS \"No. Invoices\"\n\tFROM \"defaultview-225\"\n\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\" \n\tUNION ALL\n\t-- Late Payment Block Release\n\tSELECT  'Late Payment Block Release' AS \"RCA category\"\n\t       ,COUNT( DISTINCT case_id)     AS \"No. Invoices\"\n\tFROM \"defaultview-225\"\n\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\"\n\tAND (\n\tSELECT  LAST (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Remove Payment Block') ) ) - (\n\tSELECT  FIRST (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Due Date passed') ) ) <= DURATION '7days' \n\tUNION ALL\n\t-- 'Low Automation of Invoice Postings'\n\tSELECT  'Low Automation of Invoice Postings' AS \"RCA category\"\n\t       ,COUNT(\"case_id\")                     AS \"No. Invoices\"\n\tFROM \"defaultview-225\"\n\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\"\n\tAND \"Event Created By User Type\" MATCHES ('System')\n\tAND event_name MATCHES('Post Invoice') \n\tUNION ALL\n\t-- 'Credit Memo Documents after Invoice Creation'\n\tSELECT  'Credit Memo Documents after Invoice Creation' AS \"RCA category\"\n\t       ,COUNT( DISTINCT case_id)                       AS \"No. Invoices\"\n\tFROM \"defaultview-225\"\n\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\"\n\tAND event_name MATCHES('Post Invoice' ~> 'Create Credit Memo') \n\tUNION ALL\n\t-- 'Manual Changes'\n\tSELECT  'Manual Changes'         AS \"RCA category\"\n\t       ,COUNT( DISTINCT case_id) AS \"No. Invoices\"\n\tFROM \"defaultview-225\"\n\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\"\n\tAND event_name MATCHES (ILIKE '%change%')\n\tAND \"Event Created By User Type\" MATCHES ('Dialog') \n\tUNION ALL\n\t-- 'Other'\n\tSELECT  \"RCA category\"\n\t       ,COUNT( DISTINCT case_id) AS \"No. Invoices\"\n\tFROM\n\t(\n\t\tSELECT  case_id\n\t\t       ,CASE WHEN \"Last Inv. Item Due Date\" - \"Inv. Accounting Document Date\" < DURATION '7days' THEN 'ok'\n\t\t             WHEN \"Inv. Posting Document Date\" > \"Last Inv. Item Due Date\" THEN 'ok'\n\t\t             WHEN (\n\t\tSELECT  LAST (END_TIME) FILTER (\n\t\tWHERE EVENT_NAME IN ('Remove Payment Block') ) ) - (\n\t\tSELECT  FIRST (END_TIME) FILTER (\n\t\tWHERE EVENT_NAME IN ('Due Date passed') ) ) <= DURATION '7days' THEN 'ok' WHEN COUNT( DISTINCT case_id) FILTER (\n\t\tWHERE (\n\t\tSELECT  BOOL_OR (occurrence > 1)\n\t\tFROM\n\t\t(\n\t\t\tSELECT  OCCURRENCE(event_name) AS occurrence\n            WHERE event_name != 'Create Goods Receipt'\n\t\t) AS sub ) ) > 0 THEN 'ok' \n        WHEN \"Event Created By User Type\" MATCHES ('System') AND event_name MATCHES('Post Invoice') THEN 'ok' \n        WHEN event_name MATCHES('Post Invoice' ~> 'Create Credit Memo') THEN 'ok' \n        WHEN event_name MATCHES (ILIKE '%change%') AND \"Event Created By User Type\" MATCHES ('Dialog') THEN 'ok' \n        ELSE 'Other' END AS \"RCA category\"\n\t\tFROM \"defaultview-225\"\n\t\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\" \n\t) AS sub2\n\tWHERE \"RCA category\" = 'Other' \n) AS sub3\nWHERE \"RCA category\" IS NOT NULL\nORDER BY 2 DESC",
  "description": "Overview of Top reasons for Invoices being paid late",
  "meta": "dashboard",
  "metric_vars": null,
  "view": "defaultview-225",
  "signalFragment": "SELECT  \"RCA category\"\n       ,\"Number of Invoices\"\nFROM\n(\n\t-- Short Payment Terms\n\tSELECT  'Short Payment Terms'    AS \"RCA category\"\n\t       ,COUNT( DISTINCT case_id) AS \"Number of Invoices\"\n\tFROM THIS_PROCESS\n\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\"\n\tAND \"Last Inv. Item Due Date\" - \"Inv. Accounting Document Date\" < DURATION '7days' \n\tUNION ALL\n\t-- Posted AS Overdue\n\tSELECT  'Posted as Overdue'      AS \"RCA category\"\n\t       ,COUNT( DISTINCT case_id) AS \"Number of Invoices\"\n\tFROM THIS_PROCESS\n\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\"\n\tAND \"Inv. Posting Document Date\" > \"Last Inv. Item Due Date\" \n\tUNION ALL\n\t-- High Rework Rate\n\tSELECT  CASE WHEN COUNT( DISTINCT case_id) FILTER (\n\tWHERE (\n\tSELECT  BOOL_OR (occurrence > 1)\n\tFROM\n\t(\n\t\tSELECT  OCCURRENCE(event_name) AS occurrence\n        WHERE event_name != 'Create Goods Receipt'\n\t) AS sub ) ) > 0 THEN 'High Rework Rate' END AS \"RCA category\", COUNT( DISTINCT case_id) FILTER (\n\tWHERE (\n\tSELECT  BOOL_OR (occurrence > 1)\n\tFROM\n\t(\n\t\tSELECT  OCCURRENCE(event_name) AS occurrence\n        WHERE event_name != 'Create Goods Receipt'\n\t) AS sub ) ) AS \"No. Invoices\"\n\tFROM THIS_PROCESS\n\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\" \n\tUNION ALL\n\t-- Late Payment Block Release\n\tSELECT  'Late Payment Block Release' AS \"RCA category\"\n\t       ,COUNT( DISTINCT case_id)     AS \"No. Invoices\"\n\tFROM THIS_PROCESS\n\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\"\n\tAND (\n\tSELECT  LAST (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Remove Payment Block') ) ) - (\n\tSELECT  FIRST (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Due Date passed') ) ) <= DURATION '7days' \n\tUNION ALL\n\t-- 'Low Automation of Invoice Postings'\n\tSELECT  'Low Automation of Invoice Postings' AS \"RCA category\"\n\t       ,COUNT(\"case_id\")                     AS \"No. Invoices\"\n\tFROM THIS_PROCESS\n\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\"\n\tAND \"Event Created By User Type\" MATCHES ('System')\n\tAND event_name MATCHES('Post Invoice') \n\tUNION ALL\n\t-- 'Credit Memo Documents after Invoice Creation'\n\tSELECT  'Credit Memo Documents after Invoice Creation' AS \"RCA category\"\n\t       ,COUNT( DISTINCT case_id)                       AS \"No. Invoices\"\n\tFROM THIS_PROCESS\n\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\"\n\tAND event_name MATCHES('Post Invoice' ~> 'Create Credit Memo') \n\tUNION ALL\n\t-- 'Manual Changes'\n\tSELECT  'Manual Changes'         AS \"RCA category\"\n\t       ,COUNT( DISTINCT case_id) AS \"No. Invoices\"\n\tFROM THIS_PROCESS\n\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\"\n\tAND event_name MATCHES (ILIKE '%change%')\n\tAND \"Event Created By User Type\" MATCHES ('Dialog') \n\tUNION ALL\n\t-- 'Other'\n\tSELECT  \"RCA category\"\n\t       ,COUNT( DISTINCT case_id) AS \"No. Invoices\"\n\tFROM\n\t(\n\t\tSELECT  case_id\n\t\t       ,CASE WHEN \"Last Inv. Item Due Date\" - \"Inv. Accounting Document Date\" < DURATION '7days' THEN 'ok'\n\t\t             WHEN \"Inv. Posting Document Date\" > \"Last Inv. Item Due Date\" THEN 'ok'\n\t\t             WHEN (\n\t\tSELECT  LAST (END_TIME) FILTER (\n\t\tWHERE EVENT_NAME IN ('Remove Payment Block') ) ) - (\n\t\tSELECT  FIRST (END_TIME) FILTER (\n\t\tWHERE EVENT_NAME IN ('Due Date passed') ) ) <= DURATION '7days' THEN 'ok' WHEN COUNT( DISTINCT case_id) FILTER (\n\t\tWHERE (\n\t\tSELECT  BOOL_OR (occurrence > 1)\n\t\tFROM\n\t\t(\n\t\t\tSELECT  OCCURRENCE(event_name) AS occurrence\n            WHERE event_name != 'Create Goods Receipt'\n\t\t) AS sub ) ) > 0 THEN 'ok' \n        WHEN \"Event Created By User Type\" MATCHES ('System') AND event_name MATCHES('Post Invoice') THEN 'ok' \n        WHEN event_name MATCHES('Post Invoice' ~> 'Create Credit Memo') THEN 'ok' \n        WHEN event_name MATCHES (ILIKE '%change%') AND \"Event Created By User Type\" MATCHES ('Dialog') THEN 'ok' \n        ELSE 'Other' END AS \"RCA category\"\n\t\tFROM THIS_PROCESS\n\t\tWHERE \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\" \n\t) AS sub2\n\tWHERE \"RCA category\" = 'Other' \n) AS sub3\nWHERE \"RCA category\" IS NOT NULL\nORDER BY 2 DESC",
  "process": "[0]_Dashboards_ITP Process",
  "origin": "../data/From_API/Solutions Demo Workspace/[0]_Dashboards_ITP Process/dashboards/Payment Behaviour_2024-02-01.json",
  "workspace_name": "Solutions Demo Workspace",
  "FragmentWordCount": 528,
  "descriptionWordCount": 9,
  "nameWordCount": 7,
  "FragmentLength": 4043,
  "descriptionLength": 52,
  "nameLength": 41,
  "parser_column_names": "[\"BOOL_OR\", \"case_id\", \"\\\"case_id\\\"\", \"EVENT_NAME\", \"event_name\", \"END_TIME\"]",
  "parser_values": "[\"System\", \"No. Invoices\", \"Credit Memo Documents after Invoice Creation\", \"Inv. Posting Document Date\", \"Number of Invoices\", \"Due Date passed\", \"%change%\", \"Low Automation of Invoice Postings\", \"Other\", \"Last Inv. Item Clearing Date\", \"Late Payment Block Release\", \"ok\", \"Last Inv. Item Due Date\", \"7days\", \"Dialog\", \"Create Credit Memo\", \"High Rework Rate\", \"case_id\", \"Remove Payment Block\", \"Post Invoice\", \"RCA category\", \"Event Created By User Type\", \"Short Payment Terms\", \"defaultview-225\", \"Inv. Accounting Document Date\", \"Create Goods Receipt\", \"Manual Changes\", \"Posted as Overdue\"]",
  "parser_error": "Expected table name but got None. Line 1, Col: 58.\n  SELECT  \"RCA category\"        ,\"Number of Invoices\" FROM \u001b[4m(\u001b[0m  -- Short Payment Terms  SELECT  \"Short Payment Terms\"    AS \"RCA category\"         ,COUNT( DISTINC",
  "parser": "regexp",
  "APIvalidated": "ok",
  "validationDataResponse": "[[\"Other\", 61533.0], [\"High Rework Rate\", 6830.0], [\"Short Payment Terms\", 6725.0], [\"Posted as Over",
  "validationDataLength": 8,
  "view_columns": [
    "CaseId",
    "Activity",
    "End time",
    "Accounting Document Segment Primary Key",
    "Amount Eligible for Cash Discount in Document Currency",
    "Amount in Document Currency",
    "Cash Discount Amount in Document Currency",
    "Change New Value",
    "Change Old Value",
    "Change Type",
    "Changed Field",
    "Changed Object Id",
    "Changed Table",
    "Converted USD Amount",
    "Converted USD Amount Eligible for Cash Discount",
    "Converted USD Cash Discount Amount",
    "Documet Currency",
    "Event Created By User Id",
    "Event Created By User Type",
    "GR Debit/Credit Indicator",
    "GR Document Date",
    "GR Document ID",
    "GR Document Item",
    "GR Document Posting Date",
    "GR Document Year",
    "GR Quantity",
    "GR Reference Material Document ID",
    "GR Reference Material Document Item",
    "GR Reference Material Document Year",
    "GR Reference PO Document ID",
    "GR Reference PO Document Item",
    "Inv. Accounting Document Date",
    "Inv. Accounting Document Number",
    "Inv. Amount Eligible for Cash Discount in Document Currency",
    "Inv. Amount in Document Currency",
    "Inv. Amount in Local Currency",
    "Inv. Cash Discount Amount in Document Currency",
    "Inv. Cash Discount Amount in Local Currency",
    "Inv. Client",
    "Inv. Company Code",
    "Inv. Company Code Text",
    "Inv. Converted USD Amount",
    "Inv. Converted USD Amount Eligible for Cash Discount",
    "Inv. Converted USD Cash Discount Amount",
    "Inv. Creation User",
    "Inv. Creation User Type",
    "Inv. Currency Key",
    "Inv. Currency Key for the Group Currency",
    "Inv. Currency Key of Second Local Currency",
    "Inv. Currency Key of Third Local Currency",
    "Inv. Date",
    "Inv. Document Status",
    "Inv. Document Type",
    "Inv. Document Type Text",
    "Inv. Exchange rate",
    "Inv. Exchange Rate Type",
    "Inv. Fiscal Year",
    "Inv. Group Currency Exchange Rate",
    "Inv. Local Currency",
    "Inv. Original Reduction Amount in Local Currency",
    "Inv. Posting Document Date",
    "Inv. Reference Key",
    "Inv. Reference Transaction",
    "Inv. Reversal Indicator",
    "Inv. Transaction Code",
    "Invoice Due Date",
    "Invoice Line Item",
    "Invoice Receipt ID",
    "Invoice Receipt Item",
    "Invoice Receipt Year",
    "Last Doc Posting Date in Payment Table",
    "Last Inv. Item Account Type",
    "Last Inv. Item Account Type Text",
    "Last Inv. Item Assignment Number",
    "Last Inv. Item Baseline Date",
    "Last Inv. Item Business Area",
    "Last Inv. Item Cash Discount Days 1",
    "Last Inv. Item Cash Discount Days 2",
    "Last Inv. Item Cash Discount Due Date 1",
    "Last Inv. Item Cash Discount Due Date 2",
    "Last Inv. Item Cash Discount Percentage1",
    "Last Inv. Item Cash Discount Percentage2",
    "Last Inv. Item Clearing Date",
    "Last Inv. Item Clearing Entry Date",
    "Last Inv. Item Controlling Area",
    "Last Inv. Item Cost Center",
    "Last Inv. Item Customer Number",
    "Last Inv. Item Debit/Credit Indicator",
    "Last Inv. Item Debit/Credit Indicator Text",
    "Last Inv. Item Delivery Schedule Line Number",
    "Last Inv. Item Document Number of the Clearing Document",
    "Last Inv. Item Due Date",
    "Last Inv. Item Dunned On",
    "Last Inv. Item Dunning Area",
    "Last Inv. Item Dunning Block",
    "Last Inv. Item Dunning key",
    "Last Inv. Item Dunning Level",
    "Last Inv. Item Fiscal Year of the Relevant Invoice",
    "Last Inv. Item Fixed Payment Terms",
    "Last Inv. Item Follow-On Document Type",
    "Last Inv. Item G/L Account Number",
    "Last Inv. Item Line Item of the Relevant Invoice",
    "Last Inv. Item Net Payment Terms Period",
    "Last Inv. Item Number of the Relevant Invoice",
    "Last Inv. Item Order Number",
    "Last Inv. Item Payment Block Key",
    "Last Inv. Item Payment Method",
    "Last Inv. Item Posting Key",
    "Last Inv. Item Purchase Document",
    "Last Inv. Item Purchase Document Item",
    "Last Inv. Item Receipt Document",
    "Last Inv. Item Special G/L Indicator",
    "Last Inv. Item Special G/L Transaction Type",
    "Last Inv. Item Target Special G/L Indicator",
    "Last Inv. Item Tax Type",
    "Last Inv. Item Tax Type Text",
    "Last Inv. Item Terms of Payment Key",
    "Last Inv. Item Text",
    "Last Inv. Item Total Quantity",
    "Last Inv. Item Vendor Country",
    "Last Inv. Item Vendor Master CD 1",
    "Last Inv. Item Vendor Master CD 2",
    "Last Inv. Item Vendor Master NDD",
    "Last Inv. Item Vendor Master Payment Terms",
    "Last Inv. Item Vendor Name",
    "Last Inv. Item Vendor Number",
    "Last Inv. Number of Line Item Within Accounting Document",
    "Last Payee Code",
    "Last Payment Account Number of Vendor",
    "Last Payment Additional Identification",
    "Last Payment Bill of Exchange Due Date",
    "Last Payment Bill of Exchange Issue Date",
    "Last Payment Bill of Exchange Payment Request Due Date",
    "Last Payment Clearing Date",
    "Last Payment Clearing Doc",
    "Last Payment Country Key",
    "Last Payment Country of Origin",
    "Last Payment Currency",
    "Last Payment Customer Number",
    "Last Payment Date",
    "Last Payment Debit/Credit Indicator",
    "Last Payment Doc Posting Date",
    "Last Payment Document Type",
    "Last Payment Due Date of Paid Items",
    "Last Payment Indicator Only Proposal Run",
    "Last Payment Method in Payment Table",
    "Last Payment Number",
    "Last Payment Paying Company Code",
    "Last Payment Posting Doc Number",
    "Last Payment Posting Key",
    "Last Payment Short Key for House Bank",
    "Last Payment Target Special G/L Indicator",
    "Last Payment Value Date",
    "Last Payment Value Date at Payees Bank",
    "Last PO Cash Discount Days 1",
    "Last PO Cash Discount Days 2",
    "Last PO Category",
    "Last PO Company City",
    "Last PO Company Code",
    "Last PO Company Country",
    "Last PO Company Credit Control Area",
    "Last PO Company Currency",
    "Last PO Company Name",
    "Last PO Creation Date",
    "Last PO Currency",
    "Last PO Document Date",
    "Last PO Id",
    "Last PO Item",
    "Last PO Item Account Assignment",
    "Last PO Item Acknowledge Requirement",
    "Last PO Item Category",
    "Last PO Item Category Text",
    "Last PO Item Delivery Completed",
    "Last PO Item Last Confirmed Delivery Date",
    "Last PO Item Last Possible Receipt",
    "Last PO Item Last Requested Delivery Date",
    "Last PO Item Material Group",
    "Last PO Item Material Group Text",
    "Last PO Item Material Number",
    "Last PO Item Material Text",
    "Last PO Item Outward Deliv Complete",
    "Last PO Item Overdelivery Allowance",
    "Last PO Item Overdelivery Tolerance",
    "Last PO Item Planned Delivery Days",
    "Last PO Item Plant",
    "Last PO Item Plant City",
    "Last PO Item Plant Country Key",
    "Last PO Item Plant Name",
    "Last PO Item Plant Postal Code",
    "Last PO Item Plant Purchasing Organization",
    "Last PO Item Principal Agreement Number",
    "Last PO Item Storage Location",
    "Last PO Item Storage Location Text",
    "Last PO Item Underdelivery Tolerance",
    "Last PO Item Unit of Measure",
    "Last PO Net Payment Days",
    "Last PO Purchasing Group",
    "Last PO Purchasing Group Text",
    "Last PO Purchasing Organization",
    "Last PO Purchasing Organization Text",
    "Last PO Status",
    "Last PO Terms of Payment Key",
    "Last PO Type",
    "Last PO Vendor Country",
    "Last PO Vendor Master Cash Discount Days 1",
    "Last PO Vendor Master Cash Discount Days 2",
    "Last PO Vendor Master Net Payment Days",
    "Last PO Vendor Master Terms of Payment Key",
    "Last PO Vendor Name",
    "Last PO Vendor Number",
    "Payment Client",
    "PO Client",
    "PO Item Total Net Order Value",
    "PO Item Total Net Order Value in USD",
    "PO Item Total Net Price",
    "PO Item Total Net Price Initial",
    "PO Item Total Quantity",
    "PO Number",
    "Quality Inspection Lot ID",
    "Quality Inspection Scheduled End Date",
    "Quality Inspection Scheduled Start Date",
    "Quality Inspection UD Valuation",
    "Reversal Indicator",
    "Reverse Document Fiscal Year",
    "Reverse Document Number",
    "Total Paid Amount In Document Currency",
    "Total Paid Amount In Local Currency",
    "Total Paid Amount In USD",
    "Transaction Code"
  ],
  "filename": "e4546ddafa",
  "json_filename_saved": "saved"
}