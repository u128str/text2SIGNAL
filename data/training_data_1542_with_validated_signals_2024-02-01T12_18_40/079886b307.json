{
  "Unnamed: 0.1": 9201,
  "Unnamed: 0": 3107,
  "name": "Late Payment Rate by Customers",
  "query": "SELECT\n    \"AR_Customer\" AS \"Customer Number\",\n    \"AR_CustomerName\" AS \"Customer\",\n    \"AR_CompanyCode\" AS \"Company Code\",  \n    \"AR_TradingPartner\" as \"Trading Partner\",\n\t\"# Cleared Receivables\",\n\t\"# Cleared with Payment Receivables\",\n\t\"Cleared Amount\",\n\tCASE\n\t    WHEN (avg(\"Late Payment Rate %\") % 1) >= 0.5 \n\t    THEN avg(\"Late Payment Rate %\") - \n\t(avg(\"Late Payment Rate %\") % 1) + 1\n\t    ELSE avg(\"Late Payment Rate %\") - \n\t(avg(\"Late Payment Rate %\") % 1)\n\tEND AS \"Late Payment Rate % (rounded)\",\n\t\"AR_CustomerPaymentTerms\"  AS \"Customer Payment Terms\",\n\t\"AVG Net Payment Terms\",\n\t\"AVG Payment Time\",\n\t\"AVG Paid Late Days\",\n    AR_TradingPartner AS \"Customer Trading Partner\",\n    AR_CustomerCountry  AS \"Customer Country\",\n    AR_IsOneTimeCustomerAccount AS \"Is One-Time Customer?\", \n    AR_CustomerAccountingClerk AS \"Accounting Clerck\",\n    AR_CustomerCreditMemoPaymentTerms AS \"Customer CreditMemo Payment Terms\",\n    AR_CustomerDunningBlock AS \"Customer Dunning Block\",\n    AR_CustomerPaymentBlockingReason AS \"Customer Payment Blocking Reason\"\n\t\n\tFROM (\n\tSELECT \n\t\"AR_CustomerName\" AS \"Customer\",\n\t\n\tCOUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME = 'Clear Accounts Receivable') \n\tAs \"# Cleared Receivables\", \n\tCOUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable') \n\tAs \"# Cleared with Payment Receivables\",\n\tSUM(\"AmountInGlobalCurrency\" )\n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable')\n\tAs \"Cleared Amount\",\n\t(\n\tCOUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable' \n\tAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n\t/ COUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable') \n\t) * 100\n\tAS \"Late Payment Rate %\",\n\t\n\tAVG (\"NetDueDate\" - \"DocumentDate\" ) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable') \n\tAs \"AVG Net Payment Terms\",\n\t\n\tAVG (\"ClearingDate\" - \"DocumentDate\" ) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable') \n\tAs \"AVG Payment Time\",\n\t\n\tCASE \n\tWHEN AVG (\"ClearingDate\" - \"NetDueDate\") < DURATION '0day' \n\tTHEN NULL\n\tELSE\n\tAVG (\"ClearingDate\" - \"NetDueDate\")\n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable')\n\tEND AS \"AVG Paid Late Days\",\n    AR_CompanyCode,\n \tAR_Customer,\n\tAR_CustomerName,\n    AR_TradingPartner,\n    AR_CustomerCountry,\n    AR_IsOneTimeCustomerAccount, \n    AR_CustomerAccountingClerk ,\n    AR_CustomerCreditMemoPaymentTerms,\n    AR_CustomerDunningBlock,\n    AR_CustomerPaymentBlockingReason,\n    AR_CustomerPaymentTerms\n\nFROM FLATTEN(\"defaultview-222\")\nWHERE \"ClearingDate\" IS NOT NULL AND \"NetDueDate\" IS NOT NULL\nAND AR_Customer IS NOT NULL \nAND EVENT_NAME LIKE 'Clear Accounts Receivable'\n) as selections\nORDER BY 5 DESC, 6 DESC",
  "description": null,
  "meta": "investigation",
  "metric_vars": null,
  "view": "defaultview-222",
  "signalFragment": "SELECT\n    \"AR_Customer\" AS \"Customer Number\",\n    \"AR_CustomerName\" AS \"Customer\",\n    \"AR_CompanyCode\" AS \"Company Code\",  \n    \"AR_TradingPartner\" as \"Trading Partner\",\n\t\"# Cleared Receivables\",\n\t\"# Cleared with Payment Receivables\",\n\t\"Cleared Amount\",\n\tCASE\n\t    WHEN (avg(\"Late Payment Rate %\") % 1) >= 0.5 \n\t    THEN avg(\"Late Payment Rate %\") - \n\t(avg(\"Late Payment Rate %\") % 1) + 1\n\t    ELSE avg(\"Late Payment Rate %\") - \n\t(avg(\"Late Payment Rate %\") % 1)\n\tEND AS \"Late Payment Rate % (rounded)\",\n\t\"AR_CustomerPaymentTerms\"  AS \"Customer Payment Terms\",\n\t\"AVG Net Payment Terms\",\n\t\"AVG Payment Time\",\n\t\"AVG Paid Late Days\",\n    AR_TradingPartner AS \"Customer Trading Partner\",\n    AR_CustomerCountry  AS \"Customer Country\",\n    AR_IsOneTimeCustomerAccount AS \"Is One-Time Customer?\", \n    AR_CustomerAccountingClerk AS \"Accounting Clerck\",\n    AR_CustomerCreditMemoPaymentTerms AS \"Customer CreditMemo Payment Terms\",\n    AR_CustomerDunningBlock AS \"Customer Dunning Block\",\n    AR_CustomerPaymentBlockingReason AS \"Customer Payment Blocking Reason\"\n\t\n\tFROM (\n\tSELECT \n\t\"AR_CustomerName\" AS \"Customer\",\n\t\n\tCOUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME = 'Clear Accounts Receivable') \n\tAs \"# Cleared Receivables\", \n\tCOUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable') \n\tAs \"# Cleared with Payment Receivables\",\n\tSUM(\"AmountInGlobalCurrency\" )\n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable')\n\tAs \"Cleared Amount\",\n\t(\n\tCOUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable' \n\tAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n\t/ COUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable') \n\t) * 100\n\tAS \"Late Payment Rate %\",\n\t\n\tAVG (\"NetDueDate\" - \"DocumentDate\" ) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable') \n\tAs \"AVG Net Payment Terms\",\n\t\n\tAVG (\"ClearingDate\" - \"DocumentDate\" ) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable') \n\tAs \"AVG Payment Time\",\n\t\n\tCASE \n\tWHEN AVG (\"ClearingDate\" - \"NetDueDate\") < DURATION '0day' \n\tTHEN NULL\n\tELSE\n\tAVG (\"ClearingDate\" - \"NetDueDate\")\n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable')\n\tEND AS \"AVG Paid Late Days\",\n    AR_CompanyCode,\n \tAR_Customer,\n\tAR_CustomerName,\n    AR_TradingPartner,\n    AR_CustomerCountry,\n    AR_IsOneTimeCustomerAccount, \n    AR_CustomerAccountingClerk ,\n    AR_CustomerCreditMemoPaymentTerms,\n    AR_CustomerDunningBlock,\n    AR_CustomerPaymentBlockingReason,\n    AR_CustomerPaymentTerms\n\nFROM FLATTEN(THIS_PROCESS)\nWHERE \"ClearingDate\" IS NOT NULL AND \"NetDueDate\" IS NOT NULL\nAND AR_Customer IS NOT NULL \nAND EVENT_NAME LIKE 'Clear Accounts Receivable'\n) as selections\nORDER BY 5 DESC, 6 DESC",
  "process": "00_DEMO - SAP S/4HANA Cloud - Invoice-to-Cash",
  "origin": "../data/From_API/Solutions Demo Workspace/00_DEMO - SAP S/4HANA Cloud - Invoice-to-Cash/investigations/01. I2C - General Analysis (Copy)_2024-02-01.json",
  "workspace_name": "Solutions Demo Workspace",
  "FragmentWordCount": 282,
  "descriptionWordCount": 0,
  "nameWordCount": 5,
  "FragmentLength": 2742,
  "descriptionLength": 0,
  "nameLength": 30,
  "parser_column_names": "[\"\\\"AR_TradingPartner\\\"\", \"AR_CustomerCreditMemoPaymentTerms\", \"AR_Customer\", \"\\\"AR_CustomerName\\\"\", \"AR_CustomerDunningBlock\", \"AR_CustomerAccountingClerk\", \"AR_CustomerName\", \"\\\"AR_Customer\\\"\", \"EVENT_NAME\", \"\\\"AR_CompanyCode\\\"\", \"AR_CompanyCode\", \"AR_CustomerPaymentTerms\", \"AR_CustomerCountry\", \"AR_CustomerPaymentBlockingReason\", \"\\\"AR_CustomerPaymentTerms\\\"\", \"AR_IsOneTimeCustomerAccount\", \"AR_TradingPartner\"]",
  "parser_values": "[\"Cleared Amount\", \"AR_Customer\", \"Customer Number\", \"Customer Trading Partner\", \"AR_CustomerPaymentTerms\", \"# Cleared Receivables\", \"AR_CustomerName\", \"Accounting Clerck\", \"NetDueDate\", \"AR_TradingPartner\", \"ClearingDate\", \"# Cleared with Payment Receivables\", \"Customer Payment Terms\", \"AVG Net Payment Terms\", \"Customer Country\", \"DocumentDate\", \"Is One-Time Customer?\", \"Customer\", \"Customer CreditMemo Payment Terms\", \"Clear Accounts Receivable\", \"AR_CompanyCode\", \"1day\", \"Customer Payment Blocking Reason\", \"Trading Partner\", \"Customer Dunning Block\", \"Late Payment Rate % (rounded)\", \"Company Code\", \"0day\", \"AVG Paid Late Days\", \"defaultview-222\", \"Late Payment Rate %\", \"AVG Payment Time\", \"AmountInGlobalCurrency\"]",
  "parser_error": "Expecting ). Line 1, Col: 1628.\n   (WHERE EVENT_NAME LIKE \"Clear Accounts Receivable\"   AND (ClearingDate   - NetDueDate)  > DURATION \u001b[4m\"1day\"\u001b[0m)    / COUNT (DISTINCT ARUniqueKey)   FILTER (WHERE EVENT_NAME LIKE \"Clear Accounts Receivable\")   )",
  "parser": "regexp",
  "APIvalidated": "ok",
  "validationDataResponse": "[[\"17100003\", \"Domestic Customer US 2202\", \"1710\", null, 50.0, 50.0, 117672.42000000001, 8.0, \"0004\"",
  "validationDataLength": 34,
  "view_columns": [
    "CaseId",
    "Activity",
    "End time",
    "AccountingDocCreatedByUser",
    "AccountingDocument",
    "AccountingDocumentItem",
    "AccountingDocumentType",
    "AccountingPostingStatus",
    "AccountingTransferStatus",
    "AmountInCompanyCodeCurrency",
    "AmountInGlobalCurrency",
    "AmountInTransactionCurrency",
    "AR_AVGClearingAfterNetDueDays",
    "AR_AVGClearingDays",
    "AR_AVGNetDueDateDays",
    "AR_ClearedAmountInCompanyCodeCurrency",
    "AR_ClearedAmountInGlobalCurrency",
    "AR_CompanyCode",
    "AR_CompanyCodeCurrency",
    "AR_CountClearedDocuments",
    "AR_CountDocuments",
    "AR_CountOpenDocuments",
    "AR_Customer",
    "AR_CustomerAccountingClerk",
    "AR_CustomerCountry",
    "AR_CustomerCreditMemoPaymentTerms",
    "AR_CustomerDunningBlock",
    "AR_CustomerDunningLevel",
    "AR_CustomerLastDunningDate",
    "AR_CustomerName",
    "AR_CustomerPaymentBlockingReason",
    "AR_CustomerPaymentTerms",
    "AR_GLAccount",
    "AR_GLAccountType",
    "AR_GlobalCurrency",
    "AR_IncludesItemSplit",
    "AR_IncludesReversal",
    "AR_InvoicedAmountInCompanyCodeCurrency",
    "AR_InvoicedAmountInGlobalCurrency",
    "AR_IsOneTimeCustomerAccount",
    "AR_IsSettled",
    "AR_LastAccountingDocument",
    "AR_LastAccountingDocumentType",
    "AR_LastBillingDocumentType",
    "AR_LastChangeDateTime",
    "AR_LastClearingDate",
    "AR_LastCreationDateTime",
    "AR_LastDocumentDate",
    "AR_LastExchangeRateDate",
    "AR_LastFiscalYearPeriod",
    "AR_LastLedgerFiscalYear",
    "AR_LastNetDueDate",
    "AR_LastPostingDate",
    "AR_LastReferenceDocument",
    "AR_LastReferenceDocumentItem",
    "AR_LastReferenceDocumentType",
    "AR_LastValueDate",
    "AR_MAXClearingAfterNetDueDays",
    "AR_MAXClearingDays",
    "AR_MAXNetDueDateDays",
    "AR_MINClearingAfterNetDueDays",
    "AR_MINClearingDays",
    "AR_MINNetDueDateDays",
    "AR_PaidLateCount",
    "AR_Plant",
    "AR_PostingKey",
    "AR_TradingPartner",
    "ARUniqueKey",
    "AutomationFlag",
    "Baseunit",
    "BillingDoc_TotalAmount",
    "BillingDoc_TotalCancelled",
    "BillingDoc_TotalCount",
    "BillingDoc_TotalQuantity",
    "BillingDocument",
    "BillingDocumentCategory",
    "BillingDocumentDate",
    "BillingDocumentIsCancelled",
    "BillingDocumentType",
    "BillingQuantity",
    "BillingQuantityUnit",
    "BillingRequest_BaseUnit",
    "BillingRequest_RejectedCount",
    "BillingRequest_TargetQuantityUnit",
    "BillingRequest_TotalCount",
    "BillingRequest_TotalRequestedQuantityInBaseUnit",
    "BillingRequest_TotalTargetQuantity",
    "BillToParty",
    "BusinessTransactionCategory",
    "CancelledBillingDocument",
    "ChangeDocDatabaseTableField",
    "ChangeDocGlobalFieldName",
    "ChangeDocItemChangeType",
    "ChangeDocNewFieldValue",
    "ChangeDocObjectClass",
    "ChangeDocPreviousFieldValue",
    "ChangeDocument",
    "ClearingDate",
    "ClearingJournalEntry",
    "ClearingJournalEntryFiscalYear",
    "CompanyCode",
    "CompanyCodeCurrency",
    "CostAmount",
    "CreationDate",
    "CreationDateTime",
    "Currency",
    "Customer",
    "DataBaseTable",
    "DebitCreditCode",
    "DocumentDate",
    "ExchangeRateDate",
    "FiscalYear",
    "FiscalYearPeriod",
    "GLAccount",
    "GLAccountType",
    "GlobalCurrency",
    "GrossAmount",
    "HeaderBillingBlockReason",
    "IsReversal",
    "IsReversed",
    "IsSettledIndicator",
    "ItemSplitIndicator",
    "LastChangeDate",
    "LastChangeDateTime",
    "LedgerFiscalYear",
    "LedgerGLLineItem",
    "MaterialGroup",
    "NetAmount",
    "NetDueDate",
    "OffSettingAccount",
    "OffSettingAccountType",
    "OverallBillingStatus",
    "OverallSDProcessStatus",
    "Overdue Category",
    "Plant",
    "PostingDate",
    "PostingKey",
    "ProductGroup",
    "Quantity",
    "ReferenceDocumentItem",
    "ReferenceDocumentType",
    "ReferenceSDDocument",
    "ReferenceSDDocumentCategory",
    "ReversalIndicator",
    "SalesDocument",
    "SalesDocumentCondition",
    "SalesDocumentItemCategory",
    "SalesOrganization",
    "SalesOrganizationCurrency",
    "ScheduleLine",
    "SDDocumentCategory",
    "SDDocumentRejectionStatus",
    "TargetQuantity",
    "TargetQuantityUnit",
    "TaxAmount",
    "TransactionCurrency",
    "ValueDate",
    "WBSElementInternalID"
  ],
  "filename": "079886b307",
  "json_filename_saved": "saved"
}