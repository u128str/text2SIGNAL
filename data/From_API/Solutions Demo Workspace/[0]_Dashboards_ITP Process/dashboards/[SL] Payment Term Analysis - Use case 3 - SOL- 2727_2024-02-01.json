{"metrics":[],"metricsVariables":[],"processVariables":[{"id":"inv-company-code-text-23","name":"Inv. Company Code Text","displayName":"Inv. Company Code Text","dataType":"CHOICE","level":"CASE"},{"id":"inv-converted-usd-amount-23","name":"Inv. Converted USD Amount","displayName":"Inv. Converted USD Amount","dataType":"DOUBLE_PRECISION","level":"CASE"},{"id":"last-inv-item-terms-of-paymen-22","name":"Last Inv. Item Terms of Payment Key","displayName":"Last Inv. Item Terms of Payment Key","dataType":"CHOICE","level":"CASE"},{"id":"last-inv-item-vendor-master-p-1","name":"Last Inv. Item Vendor Master Payment Terms","displayName":"Last Inv. Item Vendor Master Payment Terms","dataType":"CHOICE","level":"CASE"}],"dashboard":{"createdAt":"2023-04-11T08:33:40.762431Z","modifiedAt":"2023-04-11T08:34:03.633003Z","name":"[SL] Payment Term Analysis - Use case 3 - SOL- 2727","rootWidget":{"slug":"root-container-197","id":"b97ddf47-08fd-441f-b250-228ff236634b","name":"root container","visualization":{"type":"CHAPTER"},"layout":null,"filters":[],"children":[{"slug":"overview-111","id":"6fbdcb9d-b1bb-47e2-93b3-3acaee427624","name":"Overview","visualization":{"type":"CHAPTER"},"layout":[{"widgetId":"84d0798b-9058-425a-8c90-779ef5160a93","w":13,"__typename":"DashboardWidgetLayout","h":20,"x":3,"y":0},{"widgetId":"9ae22690-bdb7-4c38-988b-7217b49acda5","w":3,"__typename":"DashboardWidgetLayout","h":4,"x":0,"y":0},{"widgetId":"1eba3d89-5680-4742-bf80-af9de37c64c1","w":3,"__typename":"DashboardWidgetLayout","h":4,"x":0,"y":4},{"widgetId":"43acc29d-d3b3-4c9d-a36b-8c29e5bdf5d9","w":3,"__typename":"DashboardWidgetLayout","h":4,"x":0,"y":8},{"widgetId":"b473be12-5fa9-4e05-8209-2093ce6a72f2","w":3,"__typename":"DashboardWidgetLayout","h":4,"x":0,"y":12},{"widgetId":"54f1161d-8779-4101-b84f-34477f7f8df2","w":3,"__typename":"DashboardWidgetLayout","h":4,"x":0,"y":16}],"filters":[],"children":[{"slug":"process-discovery-442","id":"84d0798b-9058-425a-8c90-779ef5160a93","name":"Process Discovery","visualization":{"type":"FUZZY_MODEL","edgeGranularity":0,"nodeGranularity":0},"layout":null,"filters":[],"children":[]},{"slug":"number-of-invoices-12","id":"9ae22690-bdb7-4c38-988b-7217b49acda5","name":"Number of Invoices","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":0,"mode":"ROUND_CLOSEST"}},"dataSource":{"type":"STRUCTURED","projections":[{"type":"PARAMETERIZED","attribute":"CASE","aggregation":"COUNT","parameter":{"type":"SEMANTIC_TYPE","semanticType":"CASE"}}]},"layout":null,"filters":[],"children":[]},{"slug":"invoices-with-immediate-pt-4","id":"1eba3d89-5680-4742-bf80-af9de37c64c1","name":"Number of Inv. PT better than Vendor Master data","description":"Number of Invoices with less discount days or better Net payment term period than vendor master data","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT \nCOUNT(case_id) FILTER(\n\tWHERE (\"Last Inv. Item Cash Discount Days 1\") < \n    \t  (\"Last Inv. Item Vendor Master CD 1\") OR \n          (\"Last Inv. Item Cash Discount Days 2\") < \n    \t  (\"Last Inv. Item Vendor Master CD 2\") OR \n          (\"Last Inv. Item Net Payment Terms Period\") <\n          (\"Last Inv. Item Vendor Master NDD\"))\nFROM THIS_PROCESS"},"layout":null,"filters":[],"children":[]},{"slug":"-of-invoices-with-immediate-p-18","id":"43acc29d-d3b3-4c9d-a36b-8c29e5bdf5d9","name":"% of invoices with better PT than Vendor Master Data","description":"Number of invoice with PT better than Vendor Master Data / Total number of invoices","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"},"thresholds":{"baseColor":"red","type":"REGION","visible":false,"values":[{"colorAbove":"green","value":10.0}]}},"dataSource":{"type":"SIGNAL","query":"SELECT \n\nCOUNT(case_id) FILTER(\n\tWHERE (\"Last Inv. Item Cash Discount Days 1\") < \n    \t  (\"Last Inv. Item Vendor Master CD 1\") OR \n          (\"Last Inv. Item Cash Discount Days 2\") < \n    \t  (\"Last Inv. Item Vendor Master CD 2\") OR \n          (\"Last Inv. Item Net Payment Terms Period\") <\n          (\"Last Inv. Item Vendor Master NDD\"))\n/COUNT(case_id) * 100\n\nFROM THIS_PROCESS"},"layout":null,"filters":[],"children":[]},{"slug":"-of-invoices-with-immediate-p-19","id":"b473be12-5fa9-4e05-8209-2093ce6a72f2","name":"$ of Invoices with its PT better than Vendor Master data","description":"Amount (USD) of Invoices with its PT better than Vendor Master data","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"CURRENCY","currencyCode":"USD"}},"dataSource":{"type":"SIGNAL","query":"SELECT SUM(\"Inv. Converted USD Amount\") FILTER(\n\t\tWHERE (\"Last Inv. Item Cash Discount Days 1\") < \n    \t  (\"Last Inv. Item Vendor Master CD 1\") OR \n          (\"Last Inv. Item Cash Discount Days 2\") < \n    \t  (\"Last Inv. Item Vendor Master CD 2\") OR \n          (\"Last Inv. Item Net Payment Terms Period\") <\n          (\"Last Inv. Item Vendor Master NDD\"))\nFROM THIS_PROCESS"},"layout":null,"filters":[],"children":[]},{"slug":"immediate-wc-impact-11","id":"54f1161d-8779-4101-b84f-34477f7f8df2","name":"Number of invoices with updated PO Payment Terms","description":"Number of invoices with the update on PO Payment Terms","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":0,"mode":"ROUND_CLOSEST"}},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(case_id) FILTER(\n\tWHERE EVENT_NAME MATCHES (ILIKE 'Update PO Payment Terms'))\nFROM THIS_PROCESS"},"layout":null,"filters":[],"children":[]}]},{"slug":"sol-2727-1","id":"735e1628-e2b2-4aed-b008-8ae7a0bd90d4","name":"SOL-2727","visualization":{"type":"CHAPTER"},"layout":[{"widgetId":"5c1c0b1a-f08d-4e1f-a692-6422dfb2b683","w":16,"__typename":"DashboardWidgetLayout","h":5,"x":0,"y":0},{"widgetId":"6c1fa921-e2fb-4337-82a0-424219a76ec9","w":16,"__typename":"DashboardWidgetLayout","h":18,"x":0,"y":5},{"widgetId":"f1b87274-4300-4a48-8255-62ddd3ddbbc3","w":4,"__typename":"DashboardWidgetLayout","h":5,"x":0,"y":27},{"widgetId":"c97e3648-9c75-4671-a4a9-64cf2536712d","w":4,"__typename":"DashboardWidgetLayout","h":10,"x":4,"y":27},{"widgetId":"7732fb7d-8145-4ab5-8153-eecb8a80ad9d","w":16,"__typename":"DashboardWidgetLayout","h":4,"x":0,"y":23},{"widgetId":"22073296-5e73-4c98-8578-0f94950e7dce","w":4,"__typename":"DashboardWidgetLayout","h":5,"x":0,"y":32},{"widgetId":"c26c2231-f5c4-44ea-82d3-5fadecfc5977","w":4,"__typename":"DashboardWidgetLayout","h":5,"x":8,"y":27},{"widgetId":"231645a4-5648-4cd0-bfc7-22197b714454","w":4,"__typename":"DashboardWidgetLayout","h":5,"x":12,"y":27},{"widgetId":"5bf4ff0f-d9b6-4e7c-bb38-f5139b1ffb4b","w":4,"__typename":"DashboardWidgetLayout","h":5,"x":12,"y":32},{"widgetId":"fcfa864c-3c04-41ba-af24-4d0aa4509dde","w":4,"__typename":"DashboardWidgetLayout","h":5,"x":8,"y":32},{"widgetId":"6d5ca30b-d5fa-4803-ad81-869d3c5155ca","w":16,"__typename":"DashboardWidgetLayout","h":15,"x":0,"y":37}],"filters":[],"children":[{"slug":"sol-2727-payment-term-use-cas-1","id":"5c1c0b1a-f08d-4e1f-a692-6422dfb2b683","name":"SOL-2727 Payment Term Use Case 3","visualization":{"type":"TEXT"},"dataSource":{"type":"STATIC","data":{"entityMap":{},"blocks":[{"depth":0,"data":{},"inlineStyleRanges":[{"offset":0,"length":68,"style":"BOLD"}],"text":"a. Recent invoice payment terms are better than vendor payment terms","type":"unstyled","key":"dkivs","entityRanges":[]},{"depth":0,"data":{},"inlineStyleRanges":[{"offset":0,"length":35,"style":"BOLD"}],"text":"b. Earlier & Later Due Date Changes","type":"unstyled","key":"1lp45","entityRanges":[]}]}},"layout":null,"filters":[],"children":[]},{"slug":"use-case-3a-1","id":"6c1fa921-e2fb-4337-82a0-424219a76ec9","name":"Most recent Payment Term details on the last invoice of the Vendor","description":"Most recent (LAST) invoice's PT when it's different on Invoice and Vendor Master Data","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":true},"dataSource":{"type":"SIGNAL","query":"SELECT\n\"Inv. Company Code\"\n,\"Inv. Company Code Text\"\n,\"Last Inv. Item Vendor Name\"\n,LAST(\"Inv. Accounting Document Date\") AS \"Last Inv. Accounting Document Date\"\n,\"Last Inv. Item Terms of Payment Key\"\n,\"Last Inv. Item Vendor Master Payment Terms\"\nFROM THIS_PROCESS\nWHERE \"Last Inv. Item Terms of Payment Key\" <> \"Last Inv. Item Vendor Master Payment Terms\"\nORDER BY 4 DESC\n"},"layout":null,"filters":[],"children":[]},{"slug":"number-of-invoices-with-chang-2","id":"f1b87274-4300-4a48-8255-62ddd3ddbbc3","name":"Number of invoices with changes","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(DISTINCT(case_id)) FILTER(\nWHERE (SELECT BOOL_OR(\"Change Type\" ILIKE 'Update')))\nFROM THIS_PROCESS"},"layout":null,"filters":[],"children":[]},{"slug":"no-of-invoices-with-changes-b-3","id":"c97e3648-9c75-4671-a4a9-64cf2536712d","name":"No. of Invoices with Changes by Invoice Company Code (Top 10)","description":"Invoices with all kinds of changes in either Invoice & PO","visualization":{"type":"BAR_CHART","orientation":"HORIZONTAL","grouping":"STACKED"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT (DISTINCT CASE_ID) AS \"No. of Invoices\", \"Inv. Company Code\"\nFROM FLATTEN(\"THIS_PROCESS\")\n--WHERE EVENT_NAME IN ('Update Contract Net Price', 'Update Contract Target Quantity', 'Update Order Confirmation', 'Update PO Confirmed Delivery Date', 'Update PO Currency', 'Update PO Item Material', 'Update PO Item Net Price', 'Update PO Item Plant', 'Update PO Item Quantity', 'Update PO Payment Terms', 'Update PO Vendor', 'Update PR Delivery Date', 'Update PR Material', 'Update PR Net Price', 'Update PR Quantity')\nWHERE \"Change Type\" = 'Update' -- get all \"changes\"\nAND (\"Changed Table\" IN ('EKKO','BSEG'))\nAND (\"Changed Field\" IN  ('ZTERM', 'ZTERM', 'ZBD1T','ZBD2T','ZBD3T', 'ZBD1P', 'ZBD2P'))\nGROUP BY 2\nORDER BY 1 DESC\nLIMIT 10"},"layout":null,"filters":[],"children":[]},{"slug":"sol-2727-payment-term-use-cas-2","id":"7732fb7d-8145-4ab5-8153-eecb8a80ad9d","name":"SOL-2727 Payment Term Use Case 3","visualization":{"type":"TEXT"},"dataSource":{"type":"STATIC","data":{"entityMap":{},"blocks":[{"depth":0,"data":{},"inlineStyleRanges":[{"offset":0,"length":35,"style":"BOLD"}],"text":"b. Earlier & Later Due Date Changes","type":"unstyled","key":"dkivs","entityRanges":[]}]}},"layout":null,"filters":[],"children":[]},{"slug":"number-of-invoices-with-any-c-2","id":"22073296-5e73-4c98-8578-0f94950e7dce","name":"Number of invoices with any \"changes\" on either invoice or PO level","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT (DISTINCT CASE_ID) AS \"No. of Invoices\"\nFROM FLATTEN(\"THIS_PROCESS\")\nWHERE \"Change Type\" = 'Update' -- get all \"changes\"\nAND (\"Changed Table\" IN ('EKKO','BSEG'))\nAND (\"Changed Field\" IN  ('ZTERM', 'ZTERM', 'ZBD1T','ZBD2T','ZBD3T', 'ZBD1P', 'ZBD2P'))\n"},"layout":null,"filters":[],"children":[]},{"slug":"number-of-invoices-with-po-pa-2","id":"c26c2231-f5c4-44ea-82d3-5fadecfc5977","name":"Number of Invoices with PO Payment term changes after Invoice Posting","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(case_id)\nFROM THIS_PROCESS\nWHERE event_name MATCHES('Post Invoice\" ~> ''Update PO Payment Terms') -- -> 0\n-- WHERE event_name MATCHES( 'Update PO Payment Terms'~> 'Post Invoice') -> 4"},"layout":null,"filters":[],"children":[]},{"slug":"no-of-invoices-with-multiple--1","id":"231645a4-5648-4cd0-bfc7-22197b714454","name":"No. of Invoices with Multiple Payment Term Change Events","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT\nCOUNT(CASE_ID)\nFROM\n(\n SELECT\n  COUNT(CASE_ID) AS \"CASE_COUNT\", CASE_ID, EVENT_NAME\n FROM FLATTEN(\"THIS_PROCESS\")\n WHERE\n  (\"Changed Table\" IN ('EKKO','BSEG'))\n  AND (\"Changed Field\" IN  ('ZTERM', 'ZTERM', 'ZBD1T','ZBD2T','ZBD3T', 'ZBD1P', 'ZBD2P'))\n GROUP BY 2,3\n) AS SUB1\nWHERE \"CASE_COUNT\" > 1"},"layout":null,"filters":[],"children":[]},{"slug":"percentage-of-cases-with-chan-37","id":"5bf4ff0f-d9b6-4e7c-bb38-f5139b1ffb4b","name":"% of Invoices with Payment Term Changes","description":"invoices with Payment Term Changes / total number of invoices","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"}},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(case_id) FILTER(\n\tWHERE (SELECT BOOL_OR(\"Change Type\" ILIKE '%Update%')))\n    /\n    COUNT(case_id) * 100 \nFROM THIS_PROCESS"},"layout":null,"filters":[],"children":[]},{"slug":"percent-of-change-events-per--3","id":"fcfa864c-3c04-41ba-af24-4d0aa4509dde","name":"% of change events per case","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"}},"dataSource":{"type":"SIGNAL","query":"SELECT AVG(\n\t(SELECT COUNT(event_name) FILTER (\n\t\tWHERE event_name ILIKE '%Update%' OR event_name ILIKE '%Change%')\n\t) / (SELECT COUNT(event_name))\n   ) * 100 \nFROM THIS_PROCESS"},"layout":null,"filters":[],"children":[]},{"slug":"invoices-with-payment-term-ch-1","id":"6d5ca30b-d5fa-4803-ad81-869d3c5155ca","name":"Invoices with Payment Term Changes on either Invoice or PO","description":"All Payment Term Changes on either Invoice or PO","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT \ncase_id, \"end_time\" \n--,\"Changed Table\"\n, CASE\n\tWHEN \"Changed Table\" = 'EKKO' THEN 'Purchasing Document Header'\n    WHEN \"Changed Table\" = 'BSEG' THEN 'Accounting Document Segment'\n    ELSE 'Others'\n    END AS \"Changed Table\"\n, CASE\n\tWHEN \"Changed Field\" = 'ZBD1P' THEN 'Cash Discount Percentage 1'\n    WHEN \"Changed Field\" = 'ZBD2P' THEN 'Cash Discount Percentage 2'\n    WHEN \"Changed Field\" = 'ZBD1T' THEN 'Cash discount days 1'\n    WHEN \"Changed Field\" = 'ZBD2T' THEN 'Cash discount days 2'\n    WHEN \"Changed Field\" = 'ZBD3T' THEN 'Net Payment Terms Period'\n    WHEN \"Changed Field\" = 'ZTERM' THEN 'Terms of Payment Key'\n    ELSE 'Others'\n\tEND AS \"Changed Field\"\n,\"Change Old Value\"\n,\"Change New Value\"\nFROM FLATTEN(THIS_PROCESS)\n--WHERE EVENT_NAME MATCHES (ILIKE 'Update PO Payment Terms')\nWHERE (\"Changed Table\" IN ('EKKO','BSEG'))\nAND (\"Changed Field\" IN  ('ZTERM', 'ZTERM', 'ZBD1T','ZBD2T','ZBD3T', 'ZBD1P', 'ZBD2P'))"},"layout":null,"filters":[],"children":[]}]},{"slug":"changes-9","id":"9f084a48-8278-4674-bf93-803e73ec84a4","name":"Changes","visualization":{"type":"CHAPTER"},"layout":[{"widgetId":"52e322cb-a43a-4e45-bfb7-699e8bbe4e58","w":4,"__typename":"DashboardWidgetLayout","h":5,"x":4,"y":0},{"widgetId":"e497d44c-756c-4013-80ff-9ecefc2ae87b","w":4,"__typename":"DashboardWidgetLayout","h":5,"x":0,"y":0},{"widgetId":"7640575e-9542-458a-9c7d-3b59e7df65e7","w":16,"__typename":"DashboardWidgetLayout","h":15,"x":0,"y":15},{"widgetId":"11bc9dab-0b27-4b2d-acee-82e26dbbffdd","w":4,"__typename":"DashboardWidgetLayout","h":5,"x":12,"y":0},{"widgetId":"ee0d03a7-7db3-429c-8e11-47e9947a86fa","w":4,"__typename":"DashboardWidgetLayout","h":5,"x":12,"y":5},{"widgetId":"14d48f0f-75fe-4801-9546-f0c1363dbaca","w":4,"__typename":"DashboardWidgetLayout","h":10,"x":4,"y":5},{"widgetId":"030e1408-8db2-412f-b719-d2215f1e7730","w":4,"__typename":"DashboardWidgetLayout","h":10,"x":0,"y":5},{"widgetId":"af1d5864-3ec1-4a4d-9a1f-12017167f3d0","w":4,"__typename":"DashboardWidgetLayout","h":10,"x":8,"y":5},{"widgetId":"59e0d063-810d-4f65-ac19-b54c565738eb","w":4,"__typename":"DashboardWidgetLayout","h":5,"x":12,"y":10},{"widgetId":"96e4297e-bc7c-450b-bf77-f3fb39803a5a","w":4,"__typename":"DashboardWidgetLayout","h":5,"x":12,"y":10}],"filters":[],"children":[{"slug":"number-of-invoices-with-updat-1","id":"52e322cb-a43a-4e45-bfb7-699e8bbe4e58","name":"Number of invoices with PO Payment Terms changes","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(case_id) FILTER(\n\tWHERE EVENT_NAME MATCHES (ILIKE 'Update PO Payment Terms'))\nFROM THIS_PROCESS"},"layout":null,"filters":[],"children":[]},{"slug":"number-of-invoices-with-chang-1","id":"e497d44c-756c-4013-80ff-9ecefc2ae87b","name":"Number of invoices with changes","description":"changes on either Invoice or PO level","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(DISTINCT(case_id)) FILTER(\nWHERE (SELECT BOOL_OR(\"Change Type\" ILIKE 'Update')))\nFROM THIS_PROCESS"},"layout":null,"filters":[],"children":[]},{"slug":"table-59","id":"7640575e-9542-458a-9c7d-3b59e7df65e7","name":"Invoices with Payment Term Changes on either Invoice or PO","description":"All Payment Term Changes on either Invoice or PO","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT \ncase_id, \"end_time\" \n--,\"Changed Table\"\n, CASE\n\tWHEN \"Changed Table\" = 'EKKO' THEN 'Purchasing Document Header'\n    WHEN \"Changed Table\" = 'BSEG' THEN 'Accounting Document Segment'\n    ELSE 'Others'\n    END AS \"Changed Table\"\n, CASE\n\tWHEN \"Changed Field\" = 'ZBD1P' THEN 'Cash Discount Percentage 1'\n    WHEN \"Changed Field\" = 'ZBD2P' THEN 'Cash Discount Percentage 2'\n    WHEN \"Changed Field\" = 'ZBD1T' THEN 'Cash discount days 1'\n    WHEN \"Changed Field\" = 'ZBD2T' THEN 'Cash discount days 2'\n    WHEN \"Changed Field\" = 'ZBD3T' THEN 'Net Payment Terms Period'\n    WHEN \"Changed Field\" = 'ZTERM' THEN 'Terms of Payment Key'\n    ELSE 'Others'\n\tEND AS \"Changed Field\"\n,\"Change Old Value\"\n,\"Change New Value\"\nFROM FLATTEN(THIS_PROCESS)\n--WHERE EVENT_NAME MATCHES (ILIKE 'Update PO Payment Terms')\nWHERE (\"Changed Table\" IN ('EKKO','BSEG'))\nAND (\"Changed Field\" IN  ('ZTERM', 'ZTERM', 'ZBD1T','ZBD2T','ZBD3T', 'ZBD1P', 'ZBD2P'))"},"layout":null,"filters":[],"children":[]},{"slug":"percentage-of-cases-with-chan-36","id":"11bc9dab-0b27-4b2d-acee-82e26dbbffdd","name":"% of Invoices with Payment Term Changes","description":"invoices with Payment Term Changes / total number of invoices","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"}},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(case_id) FILTER(\n\tWHERE (SELECT BOOL_OR(\"Change Type\" ILIKE '%Update%')))\n    /\n    COUNT(case_id) * 100 \nFROM THIS_PROCESS"},"layout":null,"filters":[],"children":[]},{"slug":"no-of-pos-with-multiple-quant-7","id":"ee0d03a7-7db3-429c-8e11-47e9947a86fa","name":"No. of Invoices with Multiple Quantity Change Events","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT\nCOUNT(CASE_ID)\nFROM\n(\n SELECT\n  COUNT(CASE_ID) AS \"CASE_COUNT\", CASE_ID, EVENT_NAME\n FROM FLATTEN(\"THIS_PROCESS\")\n WHERE\n  EVENT_NAME IN ('Update PO Payment Terms') \n GROUP BY 2,3\n) AS SUB1\nWHERE \"CASE_COUNT\" > 1"},"layout":null,"filters":[],"children":[]},{"slug":"no-of-invoices-with-changes-b-1","id":"14d48f0f-75fe-4801-9546-f0c1363dbaca","name":"No. of Invoices with Changes by Invoice Company Code (Top 10)","visualization":{"type":"BAR_CHART","orientation":"HORIZONTAL","grouping":"STACKED"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT (DISTINCT CASE_ID) AS \"No. of Invoices\", \"Inv. Company Code\"\nFROM FLATTEN(\"THIS_PROCESS\")\n--WHERE EVENT_NAME IN ('Update Contract Net Price', 'Update Contract Target Quantity', 'Update Order Confirmation', 'Update PO Confirmed Delivery Date', 'Update PO Currency', 'Update PO Item Material', 'Update PO Item Net Price', 'Update PO Item Plant', 'Update PO Item Quantity', 'Update PO Payment Terms', 'Update PO Vendor', 'Update PR Delivery Date', 'Update PR Material', 'Update PR Net Price', 'Update PR Quantity')\nWHERE EVENT_NAME IN (\n'Update PO Vendor'\n,'Update PO Currency'\n,'Update PO Payment Terms'\n,'Reject PO Item'\n,'Set PO Item Final Delivery'\n,'Set PO Item Final Invoice'\n,'Block PO Item'\n,'Delete PO Item'\n,'Reactivate PO Item'\n,'Update PO Item Material'\n,'Update PO Item Quantity'\n,'Update PO Item Net Price'\n,'Update PO Item Plant'\n,'Update Order Confirmation'\n,'Receive Order Confirmation'\n)\nGROUP BY 2\nORDER BY 1 DESC\nLIMIT 10"},"layout":null,"filters":[],"children":[]},{"slug":"changes-12","id":"030e1408-8db2-412f-b719-d2215f1e7730","name":"Distribution of Changes","visualization":{"type":"PIE_CHART"},"dataSource":{"type":"SIGNAL","query":"SELECT count(case_id) AS \"No. Invoices\",\nIF(event_name matches ((\n'Update PO Vendor'\n|'Update PO Currency'\n|'Update PO Payment Terms'\n|'Reject PO Item'\n|'Set PO Item Final Delivery'\n|'Set PO Item Final Invoice'\n|'Block PO Item'\n|'Delete PO Item'\n|'Reactivate PO Item'\n|'Update PO Item Material'\n|'Update PO Item Quantity'\n|'Update PO Item Net Price'\n|'Update PO Item Plant'\n|'Update Order Confirmation'\n|'Receive Order Confirmation')),'With Change','Without Change')AS \"Invoice distribution\"\nFROM THIS_PROCESS\n"},"layout":null,"filters":[],"children":[]},{"slug":"no-of-invoices-with-changes-b-2","id":"af1d5864-3ec1-4a4d-9a1f-12017167f3d0","name":"No. of Invoices with Payment Term Changes by Company Code (Top 10)","description":"Invoices with Payment Term changes in either Invoice or PO","visualization":{"type":"BAR_CHART","orientation":"HORIZONTAL","grouping":"STACKED"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT (DISTINCT CASE_ID) AS \"No. of Invoices\", \"Inv. Company Code\"\nFROM FLATTEN(\"THIS_PROCESS\")\n--WHERE EVENT_NAME IN ('Update Contract Net Price', 'Update Contract Target Quantity', 'Update Order Confirmation', 'Update PO Confirmed Delivery Date', 'Update PO Currency', 'Update PO Item Material', 'Update PO Item Net Price', 'Update PO Item Plant', 'Update PO Item Quantity', 'Update PO Payment Terms', 'Update PO Vendor', 'Update PR Delivery Date', 'Update PR Material', 'Update PR Net Price', 'Update PR Quantity')\nWHERE \"Change Type\" = 'Update' -- get all \"changes\"\nAND (\"Changed Table\" IN ('EKKO','BSEG'))\nAND (\"Changed Field\" IN  ('ZTERM', 'ZTERM', 'ZBD1T','ZBD2T','ZBD3T', 'ZBD1P', 'ZBD2P'))\nGROUP BY 2\nORDER BY 1 DESC\nLIMIT 10"},"layout":null,"filters":[],"children":[]},{"slug":"number-of-invoices-with-any-c-1","id":"59e0d063-810d-4f65-ac19-b54c565738eb","name":"Number of invoices with any \"changes\" on either invoice or PO level","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT (DISTINCT CASE_ID) AS \"No. of Invoices\"\nFROM FLATTEN(\"THIS_PROCESS\")\nWHERE \"Change Type\" = 'Update' -- get all \"changes\"\nAND (\"Changed Table\" IN ('EKKO','BSEG'))\nAND (\"Changed Field\" IN  ('ZTERM', 'ZTERM', 'ZBD1T','ZBD2T','ZBD3T', 'ZBD1P', 'ZBD2P'))\n"},"layout":null,"filters":[],"children":[]},{"slug":"number-of-invoices-with-po-pa-1","id":"96e4297e-bc7c-450b-bf77-f3fb39803a5a","name":"Number of Invoices with PO Payment term changes after Invoice Posting","description":"Update PO Payment term after posting invoice is undesired behaviour, this widget calculates how many invoices are with this behaviour","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(case_id)\nFROM THIS_PROCESS\nWHERE event_name MATCHES('Post Invoice' ~> 'Update PO Payment Terms')"},"layout":null,"filters":[],"children":[]}]},{"slug":"eda-4","id":"f594158e-8e13-4ac0-8f3d-c8c33fdd2013","name":"EDA","visualization":{"type":"CHAPTER"},"layout":[{"widgetId":"2b56b8e4-58e8-4e1b-8740-23167f1d5b80","w":16,"__typename":"DashboardWidgetLayout","h":20,"x":0,"y":0},{"widgetId":"924ed7d9-9dbc-4df7-a3c4-3efbf14d8926","w":8,"__typename":"DashboardWidgetLayout","h":9,"x":0,"y":40},{"widgetId":"cdece297-81f1-4b0b-8bfc-6273831c5dfe","w":16,"__typename":"DashboardWidgetLayout","h":20,"x":0,"y":20},{"widgetId":"f5bc032e-2f8a-43ff-a98e-ee40d4d9eeb6","w":16,"__typename":"DashboardWidgetLayout","h":18,"x":0,"y":40},{"widgetId":"df885981-78c0-4e46-bd90-f9eece76df31","w":16,"__typename":"DashboardWidgetLayout","h":18,"x":0,"y":130},{"widgetId":"688917fa-c655-4f12-86b4-98cd6485da35","w":16,"__typename":"DashboardWidgetLayout","h":18,"x":0,"y":76},{"widgetId":"9dbb5900-af53-4be2-b4a5-fd194358d46e","w":16,"__typename":"DashboardWidgetLayout","h":18,"x":0,"y":94},{"widgetId":"cdd0a73c-cbfa-4b15-b860-718fed8d0d1e","w":16,"__typename":"DashboardWidgetLayout","h":18,"x":0,"y":148},{"widgetId":"9bbec731-6f6a-49d2-9ddb-5402bd86703b","w":16,"__typename":"DashboardWidgetLayout","h":18,"x":0,"y":277},{"widgetId":"3a44f790-ecf1-4999-8cb9-3d432c5072b1","w":16,"__typename":"DashboardWidgetLayout","h":18,"x":0,"y":112},{"widgetId":"721367d0-f950-4e1e-bc44-0f5c221bf063","w":16,"__typename":"DashboardWidgetLayout","h":21,"x":0,"y":166},{"widgetId":"f62a4c9c-5fa3-4893-9f7b-27005984a8af","w":16,"__typename":"DashboardWidgetLayout","h":18,"x":0,"y":223},{"widgetId":"8309cdd6-26ad-4c60-870c-d9b691519cc2","w":16,"__typename":"DashboardWidgetLayout","h":18,"x":0,"y":241},{"widgetId":"63f64326-b237-41ac-be40-ddb375d8faad","w":16,"__typename":"DashboardWidgetLayout","h":18,"x":0,"y":187},{"widgetId":"089e6cd8-66a7-4ee3-ad21-3614cc84ebec","w":16,"__typename":"DashboardWidgetLayout","h":18,"x":0,"y":205},{"widgetId":"3a3c85f2-3dad-463d-8763-918e7c030f20","w":16,"__typename":"DashboardWidgetLayout","h":18,"x":0,"y":295},{"widgetId":"054464ac-b66b-4910-bea2-3154d2a742f5","w":16,"__typename":"DashboardWidgetLayout","h":15,"x":0,"y":259},{"widgetId":"8e63014e-9256-462b-bcf4-9253346d0adb","w":16,"__typename":"DashboardWidgetLayout","h":18,"x":0,"y":274},{"widgetId":"64ace3d7-7882-4be1-a54e-e272f66c5e3d","w":8,"__typename":"DashboardWidgetLayout","h":11,"x":0,"y":313},{"widgetId":"bc003346-68cf-4d87-afc8-5d062865b056","w":8,"__typename":"DashboardWidgetLayout","h":11,"x":8,"y":313}],"filters":[],"children":[{"slug":"table-51","id":"2b56b8e4-58e8-4e1b-8740-23167f1d5b80","name":"Table","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":true},"dataSource":{"type":"SIGNAL","query":"SELECT \n\"Inv. Company Code Text\"\n,CASE \n\tWHEN \"Last Inv. Item Net Payment Terms Period\" < \"Last Inv. Item Vendor Master NDD\" THEN 'invoice payment terms are better than vendor payment terms'\n    WHEN \"Last Inv. Item Net Payment Terms Period\" = \"Last Inv. Item Vendor Master NDD\" THEN 'invoice payment terms are the same as vendor payment terms'\n    WHEN \"Last Inv. Item Net Payment Terms Period\" > \"Last Inv. Item Vendor Master NDD\" THEN 'invoice payment terms are worse than vendor payment terms'\n    WHEN \"Last Inv. Item Net Payment Terms Period\" IS NULL THEN 'Inv. Item Net Payment Terms Period IS NULL'\n\tWHEN \"Last Inv. Item Vendor Master NDD\" IS NULL THEN 'Last Inv. Item Vendor Master NDD IS NULL'\n\tWHEN \"Last Inv. Item Net Payment Terms Period\" IS NULL AND \"Last Inv. Item Vendor Master NDD\" IS NULL THEN 'Inv. Item Net Payment Terms Period AND Last Inv. Item Vendor Master NDD Are both NULL'\n    ELSE 'ok'\n END AS \"Inv Net Payment Terms period vs. Inv. Vendor Master NDD\"\n ,COUNT(case_id) AS \"No. Invoices\"\n ,SUM(\"Inv. Converted USD Amount\") as \"$ in Invoice\"\n FROM FLATTEN(THIS_PROCESS)\n Order By 4 DESC"},"layout":null,"filters":[],"children":[]},{"slug":"table-52","id":"924ed7d9-9dbc-4df7-a3c4-3efbf14d8926","name":"Table","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":true},"dataSource":{"type":"SIGNAL","query":"SELECT \nCASE \n\tWHEN \"Last Inv. Item Net Payment Terms Period\" < \"Last Inv. Item Vendor Master NDD\" THEN 'invoice payment terms are better than vendor payment terms'\n    WHEN \"Last Inv. Item Net Payment Terms Period\" = \"Last Inv. Item Vendor Master NDD\" THEN 'invoice payment terms are the same as vendor payment terms'\n    WHEN \"Last Inv. Item Net Payment Terms Period\" > \"Last Inv. Item Vendor Master NDD\" THEN 'invoice payment terms are worse than vendor payment terms'\n    WHEN \"Last Inv. Item Net Payment Terms Period\" IS NULL THEN 'Inv. Item Net Payment Terms Period IS NULL'\n\tWHEN \"Last Inv. Item Vendor Master NDD\" IS NULL THEN 'Last Inv. Item Vendor Master NDD IS NULL'\n\tWHEN \"Last Inv. Item Net Payment Terms Period\" IS NULL AND \"Last Inv. Item Vendor Master NDD\" IS NULL THEN 'Inv. Item Net Payment Terms Period AND Last Inv. Item Vendor Master NDD Are both NULL'\n    ELSE 'ok'\n END AS \"Inv Net Payment Terms period vs. Inv. Vendor Master NDD\"\n ,COUNT(case_id) AS \"No. Invoices\"\n FROM THIS_PROCESS"},"layout":null,"filters":[],"children":[]},{"slug":"table-53","id":"cdece297-81f1-4b0b-8bfc-6273831c5dfe","name":"Table","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":true},"dataSource":{"type":"SIGNAL","query":"SELECT \n\"Inv. Company Code Text\"\n,CASE \n\tWHEN \"Last Inv. Item Net Payment Terms Period\" < \"Last Inv. Item Vendor Master NDD\" THEN 'invoice payment terms are better than vendor payment terms'\n    WHEN \"Last Inv. Item Net Payment Terms Period\" = \"Last Inv. Item Vendor Master NDD\" THEN 'invoice payment terms are the same as vendor payment terms'\n    WHEN \"Last Inv. Item Net Payment Terms Period\" > \"Last Inv. Item Vendor Master NDD\" THEN 'invoice payment terms are worse than vendor payment terms'\n    WHEN \"Last Inv. Item Net Payment Terms Period\" IS NULL THEN 'Inv. Item Net Payment Terms Period IS NULL'\n\tWHEN \"Last Inv. Item Vendor Master NDD\" IS NULL THEN 'Last Inv. Item Vendor Master NDD IS NULL'\n\tWHEN \"Last Inv. Item Net Payment Terms Period\" IS NULL AND \"Last Inv. Item Vendor Master NDD\" IS NULL THEN 'Inv. Item Net Payment Terms Period AND Last Inv. Item Vendor Master NDD Are both NULL'\n    ELSE 'ok'\n END AS \"Inv Net Payment Terms period vs. Inv. Vendor Master NDD\"\n ,COUNT(case_id) AS \"No. Invoices\"\n ,SUM(\"Inv. Converted USD Amount\") as \"$ in Invoice\"\n FROM FLATTEN(THIS_PROCESS)\n Order By 4 DESC"},"layout":null,"filters":[],"children":[]},{"slug":"casestable-49","id":"f5bc032e-2f8a-43ff-a98e-ee40d4d9eeb6","name":"Cases_table","visualization":{"type":"CASES_TABLE","columnConfigurations":[]},"dataSource":{"type":"STRUCTURED","projections":[{"type":"PARAMETERIZED","attribute":"inv-company-code-text-23","parameter":{"type":"PROCESS_VARIABLE","name":"Inv. Company Code Text"}},{"type":"PARAMETERIZED","attribute":"last-inv-item-terms-of-paymen-22","parameter":{"type":"PROCESS_VARIABLE","name":"Last Inv. Item Terms of Payment Key"}},{"type":"PARAMETERIZED","attribute":"last-inv-item-vendor-master-p-1","parameter":{"type":"PROCESS_VARIABLE","name":"Last Inv. Item Vendor Master Payment Terms"}}]},"layout":null,"filters":[],"children":[]},{"slug":"table-54","id":"df885981-78c0-4e46-bd90-f9eece76df31","name":"Table","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":true},"dataSource":{"type":"SIGNAL","query":"SELECT \n\"Inv. Company Code\",\n\"Inv. Company Code Text\", \ncount(case_id), \n\"Last Inv. Item Vendor Master Payment Terms\", \n\"Last Inv. Item Terms of Payment Key\"\nFROM THIS_PROCESS"},"layout":null,"filters":[],"children":[]},{"slug":"table-57","id":"688917fa-c655-4f12-86b4-98cd6485da35","name":"Table","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT \n\"Inv. Company Code Text\"\n, \"Last Inv. Item Vendor Master Payment Terms\"\n, \"Last Inv. Item Terms of Payment Key\" \nFROM THIS_PROCESS\nGROUP BY 1, 2, 3"},"layout":null,"filters":[],"children":[]},{"slug":"pt-comparison-per-inv-vendor--1","id":"9dbb5900-af53-4be2-b4a5-fd194358d46e","name":"PT comparison per Inv. Vendor Name","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT \"Last Inv. Item Vendor Name\" \n,COUNT(case_id) AS \"All cases\"\n,COUNT(case_id) FILTER(\n\tWHERE ((\"Last Inv. Item Cash Discount Days 1\") < \n    \t  (CASE WHEN \"Last Inv. Item Vendor Master CD 1\" IS NULL THEN 0\n           ELSE \"Last Inv. Item Vendor Master CD 1\" END)) OR \n          ((\"Last Inv. Item Cash Discount Days 2\") < \n    \t  (CASE WHEN \"Last Inv. Item Vendor Master CD 2\" IS NULL THEN 0\n           ELSE \"Last Inv. Item Vendor Master CD 2\" END)) OR \n          ((\"Last Inv. Item Net Payment Terms Period\") < \n    \t  (CASE WHEN \"Last Inv. Item Vendor Master CD 2\" IS NULL THEN 0\n           ELSE \"Last Inv. Item Vendor Master NDD\" END)))\n           AS \"Inv. Payment term better on Vendor Master data\"\n           \n,\"Last Inv. Item Terms of Payment Key\"\n,\"Last Inv. Item Vendor Master Payment Terms\"\n,\"Last Inv. Item Vendor Master CD 1\"\n,\"Last Inv. Item Vendor Master CD 2\"\n,\"Last Inv. Item Cash Discount Days 1\"\n,\"Last Inv. Item Cash Discount Days 2\"\nFROM THIS_PROCESS\nWHERE \"Last Inv. Item Terms of Payment Key\" <> \"Last Inv. Item Vendor Master Payment Terms\"\nORDER BY 1 desc"},"layout":null,"filters":[],"children":[]},{"slug":"recent-invoices--1","id":"cdd0a73c-cbfa-4b15-b860-718fed8d0d1e","name":"Recent invoices -- trial but doesn't show the last one","description":"Last Inv. Posting Document Date of each Inv. Company Code","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":true},"dataSource":{"type":"SIGNAL","query":"SELECT \"Inv. Company Code\", \"Inv. Company Code Text\"\n,LAST(\"Inv. Accounting Document Date\")\n--,\"Last Inv. Item Terms of Payment Key\"\n,LAST(\"Last Inv. Item Terms of Payment Key\")\n--,\"Last Inv. Item Vendor Master Payment Terms\"\nFROM FLATTEN(THIS_PROCESS)\nORDER BY 3, 4 DESC\n"},"layout":null,"filters":[],"children":[]},{"slug":"table-60","id":"9bbec731-6f6a-49d2-9ddb-5402bd86703b","name":"Table","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT \n  case_id\n  ,LAST(END_TIME) as \"end time\"\n  ,LAST(\"event_name\") AS \"P1-First Last event\"\n  ,LAG(\"event_name\", 1) OVER (PARTITION BY \"case_id\" ORDER BY \"end_time\" ASC) AS \"P2-Second last event\"\n  ,LAG(\"event_name\", 2) OVER (PARTITION BY \"case_id\" ORDER BY \"end_time\" ASC) AS \"P3-Third last event\"\n  FROM FLATTEN(THIS_PROCESS)\n  WHERE (\"Last Inv. Item Clearing Date\" IS NULL)\n    AND \"Inv. Accounting Document Number\" IS NOT NULL\n    -- filter over due invoices only.\n    AND (\"Last Inv. Item Due Date\" - DATE_TRUNC('day', NOW()) < DURATION '0day')\n  ORDER BY 1 ASC"},"layout":null,"filters":[],"children":[]},{"slug":"last-date-per-company-code-1","id":"3a44f790-ecf1-4999-8cb9-3d432c5072b1","name":"Use case 3a","description":"Recent (LAST one) invoice payment terms are better than vendor payment terms","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":true},"dataSource":{"type":"SIGNAL","query":"SELECT\n\"Inv. Company Code\"\n,\"Inv. Company Code Text\"\n,\"Last Inv. Item Vendor Name\"\n,LAST(\"Inv. Accounting Document Date\")\n,\"Last Inv. Item Terms of Payment Key\"\n,\"Last Inv. Item Vendor Master Payment Terms\"\nFROM THIS_PROCESS\nWHERE \"Last Inv. Item Terms of Payment Key\" <> \"Last Inv. Item Vendor Master Payment Terms\"\nORDER BY 3 DESC\n"},"layout":null,"filters":[],"children":[]},{"slug":"table-61","id":"721367d0-f950-4e1e-bc44-0f5c221bf063","name":"Table","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT case_id\n, \"Inv. Company code\"\n, LAST(\"Most recent Inv.\")\n, \"Last Inv. Item Terms of Payment Key\"\n, \"Last Inv. Item Vendor Master Payment Terms\"\n, \"Last Inv. Item Cash Discount Days 1\"\n, \"Last Inv. Item Vendor Master CD 1\"\n, \"Last Inv. Item Cash Discount Days 2\"\n, \"Last Inv. Item Vendor Master CD 2\"\nFROM\n(SELECT\ncase_id,\n\"Inv. Company Code\"\n,\"Inv. Company Code Text\" \n,LAST(\"Inv. Accounting Document Date\") as \"Most recent Inv.\"\n,\"Last Inv. Item Terms of Payment Key\"\n,\"Last Inv. Item Vendor Master Payment Terms\"\n,\"Last Inv. Item Cash Discount Days 1\"\n, \"Last Inv. Item Vendor Master CD 1\"\n, \"Last Inv. Item Cash Discount Days 2\"\n, \"Last Inv. Item Vendor Master CD 2\"\nFROM FLATTEN(THIS_PROCESS)) AS Temp"},"layout":null,"filters":[],"children":[]},{"slug":"table-62","id":"f62a4c9c-5fa3-4893-9f7b-27005984a8af","name":"Table","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT \"Inv. Company code\"\n, LAST(\"Most recent Inv.\")\n, \"Last Inv. Item Terms of Payment Key\"\n, \"Last Inv. Item Vendor Master Payment Terms\"\nFROM\n(SELECT\ncase_id,\n\"Inv. Company Code\"\n,\"Inv. Company Code Text\" \n,LAST(\"Inv. Accounting Document Date\") as \"Most recent Inv.\"\n,\"Last Inv. Item Terms of Payment Key\"\n,\"Last Inv. Item Vendor Master Payment Terms\"\nFROM FLATTEN(THIS_PROCESS)) AS Temp"},"layout":null,"filters":[],"children":[]},{"slug":"table-63","id":"8309cdd6-26ad-4c60-870c-d9b691519cc2","name":"Table","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":true},"dataSource":{"type":"SIGNAL","query":"SELECT\nCOUNT(case_id)\n,SUM(\"Inv. Converted USD Amount\") AS \"Invoice amount\"\n,\"Inv. Company Code\"\n,\"Inv. Company Code Text\" \n,LAST(\"Inv. Accounting Document Date\")\n,\"Last Inv. Item Terms of Payment Key\"\n,\"Last Inv. Item Vendor Master Payment Terms\"\nFROM FLATTEN(THIS_PROCESS)"},"layout":null,"filters":[],"children":[]},{"slug":"table-69","id":"63f64326-b237-41ac-be40-ddb375d8faad","name":"Company code and its latest changes ","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":true},"dataSource":{"type":"SIGNAL","query":"SELECT \"Inv. Company code\"\n, LAST(\"Most recent Inv.\")\n, \"Last Inv. Item Terms of Payment Key\"\n, \"Last Inv. Item Vendor Master Payment Terms\"\nFROM\n(SELECT\ncase_id,\n\"Inv. Company Code\"\n,\"Inv. Company Code Text\" \n,LAST(\"Inv. Accounting Document Date\") as \"Most recent Inv.\"\n,\"Last Inv. Item Terms of Payment Key\"\n,\"Last Inv. Item Vendor Master Payment Terms\"\nFROM FLATTEN(THIS_PROCESS)) AS Temp"},"layout":null,"filters":[],"children":[]},{"slug":"olaptable-71","id":"089e6cd8-66a7-4ee3-ad21-3614cc84ebec","name":"Olap_table","visualization":{"type":"OLAP_TABLE","columnConfigurations":[]},"dataSource":{"type":"SIGNAL","query":"SELECT DISTINCT \"Inv. Company Code\",\n\"Last Inv. Item Vendor Master Payment Terms\"\n\nFROM THIS_PROCESS \nWHERE \"Inv. Company Code\" = '1010'"},"layout":null,"filters":[],"children":[]},{"slug":"event-details-per-invoice-1","id":"3a3c85f2-3dad-463d-8763-918e7c030f20","name":"Event details per Invoice","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT \ncase_id\n,\"Changed Table\"\n,\"Changed Field\"\n,\"Change Old Value\"\n,\"Change New Value\"\n\nFROM THIS_PROCESS\n--WHERE EVENT_NAME MATCHES (ILIKE 'Update PO Payment Terms')\nWHERE EVENT_NAME MATCHES (ILIKE 'Update PO Payment Terms') \nAND \"Changed Table\" MATCHES(ILIKE 'EKKO')\nAND \"Changed Field\" MATCHES(ILIKE 'ZTERM')"},"layout":null,"filters":[],"children":[]},{"slug":"invoice-with-update-po-paymen-2","id":"054464ac-b66b-4910-bea2-3154d2a742f5","name":"Invoice with Update PO Payment Terms","description":"Changed table = EKKO & Changed Field = ZTERM","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT \ncase_id, \"end_time\" \n,\"Changed Table\"\n,\"Changed Field\"\n,\"Change Old Value\"\n,\"Change New Value\"\nFROM FLATTEN(THIS_PROCESS)\n--WHERE EVENT_NAME MATCHES (ILIKE 'Update PO Payment Terms')\nWHERE (\"Changed Table\" IN ('EKKO','BSEG'))\nAND (\"Changed Field\" IN  ('ZTERM', 'ZTERM', 'ZBD1T','ZBD2T','ZBD3T', 'ZBD1P', 'ZBD2P'))\n\n\n--,CASE \n--\tWHEN \"Change Old Value\" < \"Change New Value\" THEN \"Changed to later due date\"\n--    WHEN \"Change Old Value\" > \"Change New Value\" THEN \"Changed to earlier due date\"\n--    ELSE 'ok'\n-- END AS \"Changed behaviour\""},"layout":null,"filters":[],"children":[]},{"slug":"trial-2","id":"8e63014e-9256-462b-bcf4-9253346d0adb","name":"Trial","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT \n  case_id\n  ,LAST(END_TIME) as \"end time\"\n  , \"EVENT_NAME\"\n  \n  FROM FLATTEN(THIS_PROCESS)\n  WHERE (\"Last Inv. Item Clearing Date\" IS NULL)\n    AND \"Inv. Accounting Document Number\" IS NOT NULL\n    -- filter over due invoices only.\n    AND (\"Last Inv. Item Due Date\" - DATE_TRUNC('day', NOW()) < DURATION '0day')\n  ORDER BY 1 ASC"},"layout":null,"filters":[{"type":"CASE_ID","id":"f0b6f7a1-8166-4de4-9b0a-b00baa11e7ff","slug":"caseid-98","enabled":true,"includes":["400LRE120220100009946"]}],"children":[]},{"slug":"trial-3","id":"64ace3d7-7882-4be1-a54e-e272f66c5e3d","name":"Trial","visualization":{"type":"DUAL_AXIS_CHART","orientation":"VERTICAL"},"dataSource":{"type":"SIGNAL","query":"SELECT\n  \"Inv. Company Code Text\" AS \"Company Code\",\n  SUM (\"Inv. Converted USD Amount\") AS \"Invoice Amount in $\",\n  COUNT(\"Inv. Accounting Document Number\") AS \"No. of Invoices\"\nFROM\n  \"THIS_PROCESS\"\nWHERE\n  (\n    \"Last Inv. Item Due Date\" < \"Last Inv. Item Clearing Date\"\n  )\n  \nORDER BY\n  2 DESC"},"layout":null,"filters":[],"children":[]},{"slug":"barchart-15","id":"bc003346-68cf-4d87-afc8-5d062865b056","name":"Bar_chart","visualization":{"type":"DUAL_AXIS_CHART","orientation":"HORIZONTAL"},"dataSource":{"type":"STRUCTURED","projections":[{"type":"PARAMETERIZED","attribute":"EVENTS","aggregation":"COUNT","parameter":{"type":"SEMANTIC_TYPE","semanticType":"EVENTS"}},{"type":"PARAMETERIZED","attribute":"inv-converted-usd-amount-23","aggregation":"SUM","parameter":{"type":"PROCESS_VARIABLE","name":"Inv. Converted USD Amount"}}],"groupBy":[{"type":"ATTRIBUTE","attribute":"inv-company-code-text-23","parameter":{"type":"PROCESS_VARIABLE","name":"Inv. Company Code Text"}}]},"layout":null,"filters":[],"children":[]}]}]}}}