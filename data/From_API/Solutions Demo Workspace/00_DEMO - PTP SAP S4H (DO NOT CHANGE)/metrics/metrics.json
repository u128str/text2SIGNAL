{"metrics": [{"id": "percentage-of-cases-affected--2", "name": "Percentage of cases affected by rework", "description": "Number of cases affected by rework divided by the total number of cases", "signalFragment": "COUNT(case_id) FILTER (WHERE\n\t(SELECT BOOL_OR (${minimum_loops_condition})\n\t\tFROM(SELECT OCCURRENCE(event_name) AS occurrence) AS sub\n)\n)/COUNT(case_id)*100", "variables": ["minimumloopscondition-7"], "__typename": "Metric"}, {"id": "percentage-of-events-affected-1", "name": "Percentage of events affected by rework", "description": "Number of events in the process that appear at least twice divided by the total number of events", "signalFragment": "SUM(\n(SELECT COUNT(event_name) - COUNT(DISTINCT event_name))\n)\n/\nSUM((SELECT COUNT(event_name))) * 100", "variables": [], "__typename": "Metric"}, {"id": "percentage-of-cases-without-a-1", "name": "Percentage of cases without any rework", "description": "Number of cases not affected by rework divided by the total number of cases", "signalFragment": "100 - (COUNT(case_id) FILTER (WHERE\n\t(SELECT BOOL_OR (${minimum_loops_condition})\n\t\tFROM (SELECT OCCURRENCE(event_name) AS occurrence) AS sub\n)\n)/COUNT(case_id)*100)", "variables": ["minimumloopscondition-7"], "__typename": "Metric"}, {"id": "average-cycle-time-for-cases--20", "name": "Average cycle time for cases affected by rework", "description": "Average cycle time calculated from the first to the last event for cases affected by rework", "signalFragment": "AVG(\n\t(SELECT LAST(end_time) - FIRST(end_time))\n)\n\tFILTER (WHERE (SELECT BOOL_OR (${minimum_loops_condition})\n\t\tFROM(SELECT OCCURRENCE(event_name) AS occurrence) AS sub)\n\t\t)", "variables": ["minimumloopscondition-7"], "__typename": "Metric"}, {"id": "net-average-cycle-time-spent--7", "name": "Net average cycle time spent on rework", "description": "Difference between the average cycle time of the cases that have any rework and the average cycle time of the whole process", "signalFragment": "(AVG(\n\t(SELECT LAST(end_time) - FIRST(end_time))\n)\n\tFILTER (WHERE (SELECT BOOL_OR (${minimum_loops_condition})\n\t\tFROM(SELECT OCCURRENCE(event_name) AS occurrence) AS sub)\n\t\t))\n-\n(AVG(\n\t(SELECT LAST(end_time) - FIRST(end_time))\n))", "variables": ["minimumloopscondition-7"], "__typename": "Metric"}, {"id": "average-number-of-reworks-per-33", "name": "Average number of reworks per case", "description": "Average number, per case, of events that appear at least twice", "signalFragment": "AVG((SELECT COUNT(event_name) - COUNT(DISTINCT event_name)))", "variables": [], "__typename": "Metric"}, {"id": "fraction-of-total-average-cyc-7", "name": "Fraction of total average cycle time spent on rework", "description": "Ratio between net average cycle time spent on rework and total average cycle time", "signalFragment": "((AVG(\n\t(SELECT LAST(end_time) - FIRST(end_time))\n\t)\n\tFILTER (WHERE (SELECT BOOL_OR (${minimum_loops_condition})\n\t\tFROM (SELECT OCCURRENCE(event_name) AS occurrence) AS sub)\n\t\t))\n-\n(AVG(\n\t(SELECT LAST(end_time) - FIRST(end_time))\n\t))\n)\n/(AVG(\n\t(SELECT LAST(end_time) - FIRST(end_time))\n\t))", "variables": ["minimumloopscondition-7"], "__typename": "Metric"}, {"id": "automation-rate-over-events1-6", "name": "Automation Rate Over Events_1", "description": "", "signalFragment": "count(event_name) FILTER \n(WHERE \"Event Created By User Type\" IN ('System','Service')) \n/ count(event_name) * 100", "variables": [], "__typename": "Metric"}, {"id": "wc-impact-of-invoices-with-im-1", "name": "WC Impact of Invoices with immediate payment terms", "description": "Amount of invoices where the payment terms (BSEG.ZBD1T) are 0 or NULL", "signalFragment": "SUM(\"Last FI Invoice Item Gross Amount in USD\") FILTER(\n\tWHERE ${itp_cash_discount_terms} IS NULL\n\t\tOR ${itp_cash_discount_terms} = 0) *15*0.04/365", "variables": ["itpcashdiscountterms-10"], "__typename": "Metric"}, {"id": "invoices-with-immediate-payme-11", "name": "Invoices with immediate payment terms", "description": "Number of invoices where the payment terms (BSEG.ZBD1T) are 0 or NULL", "signalFragment": "COUNT(\"Last FI Invoice ID\") FILTER(\n\tWHERE ${itp_cash_discount_terms} IS NULL\n\t\tOR ${itp_cash_discount_terms} = 0)", "variables": ["itpcashdiscountterms-10"], "__typename": "Metric"}, {"id": "payment-terms-differences-whe-1", "name": "Payment Terms Differences where PO is better (Median)", "description": "Number of invoices for which the payment terms on the invoice differ from the payment terms on the purchase order", "signalFragment": "AVG(\"PO Cash Discount Days 1\"-\"Last FI Invoice Item Cash Discount Days 1\") FILTER(\n\tWHERE (\"Last FI Invoice Item Cash Discount Days 1\") \n\t\t< (CASE WHEN \"PO Cash Discount Days 1\" IS NULL THEN 0 \n\tELSE \"PO Cash Discount Days 1\" END))", "variables": ["itpinvoicepaymentterms-10", "itppurchaseorderpaymentterms-10"], "__typename": "Metric"}, {"id": "payment-terms-differences-whe-2", "name": "Payment Terms Differences where PO is better", "description": "Number of invoices for which the payment terms on the invoice differ from the payment terms on the purchase order", "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE (${itp_invoice_payment_terms}) \n\t\t< (CASE WHEN ${itp_purchase_order_payment_terms} IS NULL THEN 0 \n\tELSE ${itp_purchase_order_payment_terms} END))", "variables": ["itpinvoicepaymentterms-10", "itppurchaseorderpaymentterms-10"], "__typename": "Metric"}, {"id": "payment-terms-differences-whe-3", "name": "Payment Terms Differences where PO is better (Amount)", "description": "Number of invoices for which the payment terms on the invoice differ from the payment terms on the purchase order", "signalFragment": "SUM(\"Last FI Invoice Item Gross Amount in USD\") FILTER(\n\tWHERE (\"Last FI Invoice Item Cash Discount Days 1\") \n\t\t< (CASE WHEN \"PO Cash Discount Days 1\" IS NULL THEN 0 \n\tELSE \"PO Cash Discount Days 1\" END))", "variables": ["itpinvoicepaymentterms-10", "itppurchaseorderpaymentterms-10"], "__typename": "Metric"}, {"id": "late-payment-rate1-3", "name": "Late payment rate_1", "description": "Percentage of cases with late payments. Only cases that are paid are considered.", "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${late_payment_condition})\n\t)\n/ COUNT(case_id) FILTER (\n\tWHERE (${invoice_clearing_date} IS NOT NULL)\n\t)\n* 100", "variables": ["latepaymentcondition1-1", "invoiceclearingdate1-1"], "__typename": "Metric"}, {"id": "automation-rate-over-events-4", "name": "Automation Rate Over Events", "description": "", "signalFragment": "count(event_name) FILTER \n(WHERE \"Event Created By User Type\" IN ('System','Service')) \n/ count(event_name) * 100", "variables": [], "__typename": "Metric"}, {"id": "late-payment-rate-125", "name": "Late payment rate", "description": "Percentage of cases with late payments. Only cases that are paid are considered.", "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (${late_payment_condition_1})\n\t)\n/ COUNT(case_id) FILTER (\n\tWHERE (${invoice_clearing_date_1} IS NOT NULL)\n\t)\n* 100", "variables": ["latepaymentcondition1-1", "invoiceclearingdate1-1"], "__typename": "Metric"}, {"id": "po-item-changes-rate-1", "name": "PO Item changes rate", "description": "Percentage of cases with PO Item changes", "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES(${po_change_event_flow})))\n\t/\n\tCOUNT(case_id) FILTER (\n\tWHERE (event_name MATCHES(${po_creation_events}))\n\t)\n\t* 100", "variables": ["pochangeeventflow-1", "pocreationevents-2"], "__typename": "Metric"}, {"id": "average-processing-time-for-p-4", "name": "Average processing time for purchase orders", "description": "Average time from the creation of a purchase order to its acknowledgment", "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${po_acknowledgement_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${po_creation_events}))\n   )", "variables": ["poacknowledgementevents-2", "pocreationevents-2"], "__typename": "Metric"}, {"id": "average-confirmation-time-for-3", "name": "Average confirmation time for purchase requisitions", "description": "Average time needed to confirm a purchase requisition by creating a purchase order", "signalFragment": "AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${po_creation_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${pr_creation_events}))\n   )", "variables": ["pocreationevents-2", "prcreationevents-1"], "__typename": "Metric"}, {"id": "average-cycle-time-13", "name": "Average cycle time", "description": "Average cycle time calculated from the first to the last event", "signalFragment": "AVG((SELECT LAST(end_time)) - (SELECT FIRST(end_time)))", "variables": [], "__typename": "Metric"}], "metricVariables": [{"id": "pocreationevents-2", "name": "po_creation_events", "description": "Events indicating the creation of a purchase order, for example 'Create PO Item'", "value": "'Create PO Item'", "__typename": "MetricVariable"}, {"id": "invoicereceipteventflow-1", "name": "invoice_receipt_event_flow", "description": "Event flow indicating the receipt of an invoice, for example ('Create FI Invoice'|'Record Invoice Receipt')", "value": "('Create FI Invoice'|'Record Invoice Receipt')", "__typename": "MetricVariable"}, {"id": "invoiceclearingevents-2", "name": "invoice_clearing_events", "description": "Events indicating the clearing of an invoice, for example 'Clear Invoice'", "value": null, "__typename": "MetricVariable"}, {"id": "ptpcomplianteventsequence-1", "name": "ptp_compliant_event_sequence", "description": "Sequence of events that fulfil the compliance requirements of a Procure-to-Pay process, for example ^ 'Create PO Item' ~> 'Create Goods Receipt' ~> ('Create FI Invoice'|'Record Invoice Receipt') ~> 'Clear Invoice' $", "value": null, "__typename": "MetricVariable"}, {"id": "deliverycompletedcondition-1", "name": "delivery_completed_condition", "description": "Condition indicating that the delivery for a PO Item is completed, for example \"PO Item Delivery Completed\" = 'Yes'", "value": null, "__typename": "MetricVariable"}, {"id": "latedeliverycondition-1", "name": "late_delivery_condition", "description": "Condition identifying cases that are delivered too late, for example DATE_TRUNC('day', \"Last GR Creation Date\") > \"PO Item Last Requested Delivery Date\"", "value": null, "__typename": "MetricVariable"}, {"id": "latepaymentcondition-1", "name": "late_payment_condition", "description": "Condition that identifies cases with invoices paid late, for example \"Last FI Invoice Item Due Date\" < \"Last FI Invoice Item Clearing Date\"", "value": null, "__typename": "MetricVariable"}, {"id": "deliveryduedate-1", "name": "delivery_due_date", "description": "Attribute referring to the date when the delivery is due, for example \"PO Item Last Requested Delivery Date\"", "value": null, "__typename": "MetricVariable"}, {"id": "invoicereceiptevents-2", "name": "invoice_receipt_events", "description": "Events indicating the receipt of an invoice, for example 'Record Invoice Receipt', 'Create FI Invoice'", "value": "'Record Invoice Receipt', 'Create FI Invoice'", "__typename": "MetricVariable"}, {"id": "poacknowledgementevents-2", "name": "po_acknowledgement_events", "description": "Events indicating the acknowledgement of a purchase order item, for example 'Receive Order Confirmation'", "value": "'Receive Order Confirmation'", "__typename": "MetricVariable"}, {"id": "totalinvoiceamount-1", "name": "total_invoice_amount", "description": "Attribute referring to the total amount of invoice items before any deductions, for example \"PO Item Total Invoiced Net Amount in USD\"", "value": null, "__typename": "MetricVariable"}, {"id": "twowaymatchcondition-1", "name": "two_way_match_condition", "description": "Condition identifying cases with a two-way attribute match, for example \"PO Item Net Order Value\" = \"PO Item Total Invoiced Net Amount Document Curr.\"", "value": null, "__typename": "MetricVariable"}, {"id": "goodsreceiptdate-1", "name": "goods_receipt_date", "description": "Attribute referring to the date when the goods have been received, for example DATE_TRUNC('day', \"Last GR Creation Date\")", "value": null, "__typename": "MetricVariable"}, {"id": "mbpricechangecondition-1", "name": "mb_price_change_condition", "description": "Event flow indicating that price changes happened after the Goods Receipt event, for example 'Create Goods Receipt' ~> 'Update PO Item Net Price'", "value": null, "__typename": "MetricVariable"}, {"id": "paymentblockevents-1", "name": "payment_block_events", "description": "Events indicating that a payment block was set or removed, for example 'Remove Payment Block', 'Set Payment Block'", "value": null, "__typename": "MetricVariable"}, {"id": "ptpchangeeventflow-1", "name": "ptp_change_event_flow", "description": "Event flow indicating that change events happened in a case, for example ('Update PR Net Price'|'Send Purchase Order Update'|'Update PO Item Net Price'|'Update Invoice Payment Terms')", "value": null, "__typename": "MetricVariable"}, {"id": "invoicereversalevents-1", "name": "invoice_reversal_events", "description": "Events identifying the reversal of an Invoice, for example 'Reverse Invoice'", "value": null, "__typename": "MetricVariable"}, {"id": "pochangeeventflow-1", "name": "po_change_event_flow", "description": "Events indicating changes to purchase order item, for example 'Update PO Item Net Price'", "value": "('Update PO Item Material'|'Update PO Item Quantity'|'Update PO Item Net Price'|'Update PO Item Plant'|'Update PO Confirmed Delivery Date')", "__typename": "MetricVariable"}, {"id": "prcreationevents-1", "name": "pr_creation_events", "description": "Events indicating the creation of a purchase requisition item, for example 'Create PR Item'", "value": "'Create PR Item'", "__typename": "MetricVariable"}, {"id": "discountappliedtoinvoice-1", "name": "discount_applied_to_invoice", "description": "Attribute referring to the actual cash discount applied when the invoice was paid, for example \"Last FI Invoice Cash Discount in USD\"", "value": null, "__typename": "MetricVariable"}, {"id": "overduepaymentcondition-2", "name": "overdue_payment_condition", "description": "Condition that identifies cases with overdue invoices, for example \"Last FI Invoice Item Clearing Date\" IS NULL AND \"Last FI Invoice Item Due Date\" < DATE_TRUNC('day', NOW())", "value": null, "__typename": "MetricVariable"}, {"id": "returndeliveryevents-1", "name": "return_delivery_events", "description": "Events identifying cases of delivery returns, for example 'Return Delivery via Delivery Note'", "value": null, "__typename": "MetricVariable"}, {"id": "poitemnetordervalue-2", "name": "po_item_net_order_value", "description": "Attribute referring to the net order value of the PO Item, for example \"PO Item Net Order Value in USD\"", "value": null, "__typename": "MetricVariable"}, {"id": "poitemcancellationevents-1", "name": "po_item_cancellation_events", "description": "Events indicating that a purchase order item was cancelled, for example 'Delete PO Item'", "value": null, "__typename": "MetricVariable"}, {"id": "invoiceclearingdate-1", "name": "invoice_clearing_date", "description": "Attribute referring to the clearing date of an invoice, for example \"Last FI Invoice Item Clearing Date\"", "value": null, "__typename": "MetricVariable"}, {"id": "discountpercentage-1", "name": "discount_percentage", "description": "Attribute referring to the maximum percentage discount that can be applied to the total amount of an invoice item, for example \"Last FI Invoice Item Cash Discount Percentage 1\"", "value": null, "__typename": "MetricVariable"}, {"id": "goodsreceiptevents-1", "name": "goods_receipt_events", "description": "Events identifying the receipt of goods, for example 'Create Goods Receipt'", "value": null, "__typename": "MetricVariable"}, {"id": "pocreatedafterinvoicereceipt-1", "name": "po_created_after_invoice_receipt", "description": "Event flow indicating the creation of a PO Item after the Invoice has been received, for example ('Create FI Invoice'|'Record Invoice Receipt') ~> 'Create PO Item'", "value": null, "__typename": "MetricVariable"}, {"id": "goodsreceiptreversalevents-1", "name": "goods_receipt_reversal_events", "description": "Events identifying the reversal of a Goods Receipt, for example 'Reverse Goods Receipt'", "value": null, "__typename": "MetricVariable"}, {"id": "overduedeliverycondition-1", "name": "overdue_delivery_condition", "description": "Condition identifying cases with an overdue delivery, for example DATE_TRUNC('day', NOW()) > \"PO Item Last Requested Delivery Date\"\n\t  AND \"PO Item Delivery Completed\" IS NULL", "value": null, "__typename": "MetricVariable"}, {"id": "minimumloopscondition-7", "name": "minimum_loops_condition", "description": "Minimum number of multiple occurrences for events to be considered as rework, for example: occurrence > 1", "value": "occurrence > 1", "__typename": "MetricVariable"}, {"id": "invoiceclearingdate1-1", "name": "invoice_clearing_date_1", "description": "Attribute referring to the clearing date of an invoice, for example \"Last FI Invoice Item Clearing Date\"", "value": "\"Last FI Invoice Item Clearing Date\"", "__typename": "MetricVariable"}, {"id": "latepaymentcondition1-1", "name": "late_payment_condition_1", "description": "Condition that identifies cases with invoices paid late, for example \"Last FI Invoice Item Due Date\" < \"Last FI Invoice Item Clearing Date\"", "value": "\"Last FI Invoice Item Due Date\" < \"Last FI Invoice Item Clearing Date\"", "__typename": "MetricVariable"}, {"id": "itpinvoicepaymentterms-10", "name": "itp_invoice_payment_terms", "description": "Attribute referring to the invoice payment terms in days, for example \"Last Inv. Item Net Payment Terms Period\"", "value": "\"Last FI Invoice Item Cash Discount Days 1\"", "__typename": "MetricVariable"}, {"id": "itppurchaseorderpaymentterms-10", "name": "itp_purchase_order_payment_terms", "description": "Attribute referring to the purchase order payment terms in days, for example \"PO Net Payment Days\"", "value": "\"PO Cash Discount Days 1\"", "__typename": "MetricVariable"}, {"id": "itpcashdiscountterms-10", "name": "itp_cash_discount_terms", "description": "Terms that determine after which time an invoice needs to be paid, for example \"Last Inv. Item Cash Discount Days 1\" BSEG.ZBD1t", "value": "\"Last FI Invoice Item Cash Discount Days 1\"", "__typename": "MetricVariable"}]}