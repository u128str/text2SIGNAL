{"metrics": [{"id": "products-with-manually-update-1", "name": "Products with manually updated sales history", "description": "Number of products for which sales history was updated manually by planners for a certain period", "signalFragment": "COUNT(DISTINCT \"Product ID\") FILTER(\n\tWHERE ( SELECT COUNT(1) WHERE \"Source of Change\" = 'Excel Add-In - Planning View'\n\t\t\t\tAND \"event_name\" = 'Gather & Cleanse Historical Data'\n\t\t\t\tAND (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\t\t\t\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n    ) > 0\n)", "variables": ["affectedperiodsinthepast-1"], "__typename": "Metric"}, {"id": "sales-forecast-override-rate-1", "name": "Sales forecast override rate", "description": "Percentage of combinations where the sales forecast was overwritten manually by a planner", "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE(\n\t(SELECT FIRST(\"end_time\")\n\t\tWHERE event_name IN ('Review Sales Forecast') \n\t\t) IS NOT NULL\n\t)\t\n)\n/\nCOUNT(case_id) FILTER(\n\tWHERE \"Sales Forecast Qty\" <> 0\n)* 100", "variables": [], "__typename": "Metric"}, {"id": "products-touched-by-supply-pl-1", "name": "Products touched by supply planning", "description": "Number of products affected by a supply operator execution", "signalFragment": "COUNT(DISTINCT \"Product ID\") FILTER (\n\tWHERE (\n\t\tSELECT SUM(\"Receipts\") = 0\n\t\tWHERE \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\t\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n\t\t)\n\n\tAND (\n\t\tSELECT SUM(\"Projected Stock\") = 0\n\t\tWHERE \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\t\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n\t)\n)\n/\nCOUNT(DISTINCT \"Product ID\") FILTER(\n\tWHERE \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n) * 100", "variables": ["affectedperiodsinthefuture-1"], "__typename": "Metric"}, {"id": "statistical-forecast-quantity-9", "name": "Statistical forecast quantity error rate", "description": "Percentage of cases in a certain period in the past where Statistical Forecast Quantity Error is above 30%", "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE \"Statistical Fcst Qty Error (%)\" > 30\n\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n\tAND (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\t)\n/\nCOUNT(case_id) FILTER(\n\tWHERE (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n\tAND \"Statistical Fcst Qty Error (%)\" <> 0\n)\n* 100", "variables": ["affectedperiodsinthepast-1"], "__typename": "Metric"}, {"id": "products-without-inventory-pl-3", "name": "Products without inventory plan", "description": "Number of products for which there is no safety stock planned in a certain period", "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE \"Inventory Target\" = 0\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)", "variables": ["affectedperiodsinthefuture-1"], "__typename": "Metric"}, {"id": "combinations-over-or-under-fo-2", "name": "Combinations over or under forecasted", "description": "Number of combinations which are constantly being over or under forecasted", "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE (\"Statistical Fcst Qty Bias (%)\" > 20\n\tOR \"Statistical Fcst Qty Bias (%)\" < -20)\n\tAND (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n\t)", "variables": ["affectedperiodsinthepast-1"], "__typename": "Metric"}, {"id": "focus-manpower-on-the-right-p-2", "name": "Focus manpower on the right products for demand planning", "description": "Number of combinations with ABC/XYZ segmentation based analysis of top selling products for forecasting process", "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE \"ABC Id\" IN ('A','B') \n\tAND \"XYZ Id\" IN ('X','Y') \n\tAND \"Statistical Fcst Qty\" = 0\n)", "variables": [], "__typename": "Metric"}, {"id": "cycle-time-of-reconciliation--1", "name": "Cycle time of reconciliation review", "description": "Average time taken from 'Start Reconciliation review' to 'Complete Reconciliation review'", "signalFragment": "AVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Complete Reconciliation review')\n\tAND \"Step Status\" = 'COMPLETED')) \n)\n-\nAVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Start Reconciliation review')\n\tAND \"Step Status\" = 'COMPLETED')) \n)", "variables": [], "__typename": "Metric"}, {"id": "demand-unfulfilled-rate-2", "name": "Demand unfulfilled rate", "description": "Percentage of products with consensus demand higher than the delivered in a certain period", "signalFragment": "COUNT( DISTINCT \"Product ID\") FILTER(\n\tWHERE \"Consensus Demand\" > \"Consensus Demand Delivered\" \n\tAND \"Consensus Demand\" <> 0\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)\n/\nCOUNT( DISTINCT \"Product ID\") FILTER(\n\tWHERE \"Consensus Demand\" <> 0\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)\n* 100", "variables": ["affectedperiodsinthefuture-1"], "__typename": "Metric"}, {"id": "cycle-time-of-management-revi-1", "name": "Cycle time of management review", "description": "Average time taken from 'Start Management review' to 'Complete Management review'", "signalFragment": "AVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Complete Management review')\n\tAND \"Step Status\" = 'COMPLETED')) \n)\n-\nAVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Start Management review')\n\tAND \"Step Status\" = 'COMPLETED')) \n)", "variables": [], "__typename": "Metric"}, {"id": "cycle-time-of-supply-planning-4", "name": "Cycle time of supply planning", "description": "Average time taken from 'Start Supply Planning' to 'Complete Supply Planning'", "signalFragment": "AVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Complete Supply Planning')\n\tAND \"Step Status\" = 'COMPLETED')) \n)\n-\nAVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Start Supply Planning')\n\tAND \"Step Status\" = 'COMPLETED')) \n)", "variables": [], "__typename": "Metric"}, {"id": "cycle-time-of-demand-planning-5", "name": "Cycle time of demand planning", "description": "Average time taken from 'Start Demand Planning' to 'Complete Demand Planning'", "signalFragment": "AVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Complete Demand Planning')\n\tAND \"Step Status\" = 'COMPLETED')) \n)\n-\nAVG ((SELECT AVG (END_TIME) FILTER (\n\tWHERE EVENT_NAME IN ('Start Demand Planning')\n\tAND \"Step Status\" = 'COMPLETED')) \n)", "variables": [], "__typename": "Metric"}, {"id": "capacity-over-utilization-1", "name": "Capacity over-utilization", "description": "Number of combinations with capacity utilization is more than 100% in a certain period", "signalFragment": "COUNT(case_id) FILTER (\n\tWHERE \"Capacity Utilization\" > 1\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)", "variables": ["affectedperiodsinthefuture-1"], "__typename": "Metric"}, {"id": "combinations-with-understocki-2", "name": "Combinations with understocking", "description": "Number of combinations in the current planning cycle with less Stock on Hand than the target", "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE (\"Inventory Target\" > \"Stock on Hand\") \n\tAND DATE_TRUNC('month', NOW()) = \"MONTH\"\n)", "variables": [], "__typename": "Metric"}, {"id": "statistical-forecast-quantity-8", "name": "Statistical forecast quantity bias rate", "description": "Percentage of cases in a certain period where Statistical Forecast Quantity Bias is above 10% or less then -10%", "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE (\"Statistical Fcst Qty Bias (%)\" > 10\n\tOR \"Statistical Fcst Qty Bias (%)\" < -10)\n\tAND (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n\t)\n/\nCOUNT(case_id) FILTER(\n\tWHERE \"Statistical Fcst Qty Bias (%)\" <> 0\n\tAND (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n) * 100", "variables": ["affectedperiodsinthepast-1"], "__typename": "Metric"}, {"id": "combinations-with-overstockin-1", "name": "Combinations with overstocking", "description": "Number of combinations in the current planning cycle with more Stock on Hand than the target", "signalFragment": "COUNT(CASE_ID) FILTER(\n\tWHERE \"Inventory Target\" > 0 \n\tAND \"Stock on Hand\" > \"Inventory Target\"\t\n\tAND DATE_TRUNC('month', NOW()) = \"MONTH\"\n)\n/\nCOUNT(CASE_ID) FILTER(\n\tWHERE DATE_TRUNC('month', NOW()) = \"MONTH\"\n) * 100", "variables": [], "__typename": "Metric"}, {"id": "process-efficiency-of-sop-pro-1", "name": "Process efficiency of S&OP process", "description": "Percentage of products in the current month where consensus demand was adjusted/updated after supply planning run", "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN ('Create Consensus Demand'))\n\t> (SELECT FIRST(end_time)\n\t\tWHERE event_name IN ('Run Supply Heuristics / Optimizer'))\n\t)\n\tAND DATE_TRUNC('month', NOW()) = \"MONTH\"\n)\n/\nCOUNT(case_id) FILTER(\n\tWHERE \"Consensus Demand Plan Qty\" > 0\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n) * 100", "variables": ["affectedperiodsinthefuture-1"], "__typename": "Metric"}, {"id": "perfect-demand-fulfillment-ra-2", "name": "Perfect demand fulfillment rate", "description": "Percentage of combinations in a certain period with consensus demand delivered equal to consensus demand", "signalFragment": "COUNT(\"case_id\") FILTER(\n\tWHERE(\n\t\"Consensus Demand Delivered\" = \"Consensus Demand\"\n\t)\n    AND \"MONTH\" >= (DATE_TRUNC('month', NOW()))    \n    AND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n    AND \"Consensus Demand\" > 0 \n)\n/\nCOUNT(\"case_id\") FILTER(\n\tWHERE \"Consensus Demand\" > 0\n    AND \"MONTH\" >= (DATE_TRUNC('month', NOW()))    \n    AND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n) * 100", "variables": ["affectedperiodsinthefuture-1"], "__typename": "Metric"}, {"id": "percentage-of-products-withou-2", "name": "Percentage of products without forecast", "description": "Percentage of products which could not be forecasted by the forecasting algorithm", "signalFragment": "COUNT(DISTINCT(\"Product ID\")) FILTER(\n\tWHERE (\n\t\tSELECT SUM(\"Statistical Fcst Qty\") = 0\n\t)\nAND \"Material Type ID\" = 'FERT'\n)\n/\nCOUNT(DISTINCT (\"Product ID\")) FILTER(\n\tWHERE \"Material Type ID\" = 'FERT'\n)\n* 100", "variables": [], "__typename": "Metric"}, {"id": "percentage-of-products-with-u-2", "name": "Percentage of products with unconsumed forecast", "description": "Percentage of products with an open forecast in a certain period", "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE \"Forecast Open Output\" > 0\n\tAND (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n\t)\n/\nCOUNT(case_id) FILTER(\n\tWHERE \"Consensus Demand Plan Qty\" <> 0\n\tAND (DATE_TRUNC('month', NOW())) > \"MONTH\"\n\tAND (DATE_TRUNC('month', NOW()) - \"MONTH\") < DURATION ${affected_periods_in_the_past}\n) * 100", "variables": ["affectedperiodsinthepast-1"], "__typename": "Metric"}, {"id": "percentage-of-products-touche-1", "name": "Percentage of products touched by IO", "description": "Number of products part of Inventory Optimization run in a certain period", "signalFragment": "COUNT(DISTINCT \"Product ID\") FILTER(\n\tWHERE (\n\t\tSELECT SUM(\"Recommended Safety Stock\") = 0\n\t)\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)\n/\nCOUNT(DISTINCT \"Product ID\") FILTER(\n\tWHERE \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)\n* 100", "variables": ["affectedperiodsinthefuture-1"], "__typename": "Metric"}, {"id": "market-forecast-override-rate-1", "name": "Market forecast override rate", "description": "Percentage of combinations where the market forecast was overwritten manually by a planner", "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE(\n\t\t(SELECT FIRST(\"end_time\")\n\t\t\tWHERE event_name IN ('Review Marketing Forecast') \n\t\t)IS NOT NULL\n\t)\n)\n/\nCOUNT(case_id) FILTER(\n\tWHERE \"Marketing Forecast Qty\" <> 0\n) * 100", "variables": [], "__typename": "Metric"}, {"id": "percentage-of-products-with-c-2", "name": "Percentage of products with considerable forecast override", "description": "Percentage of products for which the difference between statistical forecast and final consensus demand is considerable in a certain period", "signalFragment": "COUNT(DISTINCT \"Product ID\") FILTER(\n\tWHERE( \n\t\t(((\"Consensus Demand Plan Qty\" - \"Statistical Fcst Qty\") \n\t\t/\n\t\t\"Statistical Fcst Qty\") * 100\n\t\t) > 20\n\tOR\n\t\t(((\"Consensus Demand Plan Qty\" - \"Statistical Fcst Qty\") \n\t\t/\n\t\t\"Statistical Fcst Qty\") * 100\n\t\t) < -20\n\t)\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n\t)\n/\nCOUNT(DISTINCT \"Product ID\") FILTER(\n\tWHERE \"Statistical Fcst Qty\" > 0\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n\t)* 100", "variables": ["affectedperiodsinthefuture-1"], "__typename": "Metric"}, {"id": "focus-manpower-on-the-right-p-1", "name": "Focus manpower on the right products for inventory planning", "description": "Number of combinations with ABC/XYZ segmentation based analysis of top selling products for inventory management", "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE \"ABC Id\" IN ('A','B') \n\tAND \"XYZ Id\" IN ('X','Y') \n\tAND \"Inventory Target\" = 0\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n)", "variables": ["affectedperiodsinthefuture-1"], "__typename": "Metric"}, {"id": "not-planning-relevant-product-1", "name": "Not planning relevant products", "description": "Number of products which are not relevant for supply chain planning", "signalFragment": "COUNT(DISTINCT \"Product ID\") FILTER(\n\tWHERE \"PLM Status\" = '6' \n\tAND (\"Receipts\" <> 0 OR \"Projected Stock\" <> 0)\n\tAND \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n) ", "variables": ["affectedperiodsinthefuture-1"], "__typename": "Metric"}, {"id": "inventory-override-rate-1", "name": "Inventory override rate", "description": "Percentage of cases where the inventory was overwritten by a planner in the current planning cycle", "signalFragment": "COUNT(case_id) FILTER(\n\tWHERE(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN ('Finalize Inventory Plan'))\n\t\t> (SELECT FIRST(end_time)\n\t\tWHERE event_name IN ('Run Inventory Optimization'))\n\t)\n\tAND DATE_TRUNC('month', NOW()) = \"MONTH\"\n)\n/\nCOUNT(case_id) FILTER(\n\tWHERE \"MONTH\" >= (DATE_TRUNC('month', NOW()))\n\tAND (\"MONTH\" - DATE_TRUNC('month', NOW())) < DURATION ${affected_periods_in_the_future}\n) * 100", "variables": ["affectedperiodsinthefuture-1"], "__typename": "Metric"}], "metricVariables": [{"id": "affectedperiodsinthefuture-1", "name": "affected_periods_in_the_future", "description": "Period in the future affected by the current planning cycle", "value": "'320days'", "__typename": "MetricVariable"}, {"id": "affectedperiodsinthepast-1", "name": "affected_periods_in_the_past", "description": "Period in the past affected by the current planning cycle", "value": "'200days'", "__typename": "MetricVariable"}]}