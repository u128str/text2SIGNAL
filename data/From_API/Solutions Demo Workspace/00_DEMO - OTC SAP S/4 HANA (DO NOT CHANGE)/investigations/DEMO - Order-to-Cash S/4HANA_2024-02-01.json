{"metrics":[{"id":"no-touch-order-rate-61","name":"No-Touch-Order Rate","description":"Percentage of “perfect orders” or no-touch orders, i.e. delivered on time, with the right amount and no other changes","signalFragment":"COUNT(case_id) FILTER (WHERE (\n\tSELECT BOOL_OR(event_name IN (${processing_completion_events})\n\t\tAND (${ontime_delivery_condition})\n\t\tAND NOT event_name IN (${otc_change_events}))\n\t)\n)/COUNT(case_id)\n* 100","variables":["processingcompletionevents-17","ontimedeliverycondition-18","otcchangeevents-18"],"aggregationType":"CASE","originId":"ORDER_TO_CASH_no_touch_order_rate","createdAt":"2023-03-22T13:38:28.660975Z"},{"id":"on-time-delivery-rate-69","name":"On-time delivery rate","description":"Percentage of deliveries arriving at their destination before or on the expected date","signalFragment":"COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name)\n\t\t\tWHERE (${ontime_delivery_condition})) > 0\n\t)\n/ COUNT(case_id) FILTER (\n\tWHERE (SELECT BOOL_OR(event_name IN ('Create Outbound Delivery')))\n\t) \n* 100","variables":["ontimedeliverycondition-18"],"aggregationType":"CASE","originId":"ORDER_TO_CASH_on_time_delivery","createdAt":"2023-03-17T17:40:42.663768Z","modifiedAt":"2023-03-27T15:40:36.867114Z"},{"id":"total-number-of-sales-orders-46","name":"Total number of sales orders","description":"Total amount of orders on header level","signalFragment":"COUNT(DISTINCT SalesDocId) FILTER (WHERE \n\t (SELECT BOOL_OR(event_name IN (${sales_order_item_creation_events}))))","variables":["salesorderitemcreationevents-20"],"aggregationType":"CASE","originId":"ORDER_TO_CASH_tot_nr_sales_orders","createdAt":"2023-03-17T17:40:42.660451Z"},{"id":"overdue-and-open-accounts-rec-40","name":"Overdue and open Accounts Receivable items","description":"Number of overdue open customer items","signalFragment":"COUNT(case_id) FILTER (\n\tWHERE (SELECT COUNT(event_name)\n\t\t\tWHERE (${invoice_overdue_condition} OR ${open_accounts_receivable_condition})) > 0\n\t)","variables":["invoiceoverduecondition-17","openaccountsreceivableconditi-17"],"aggregationType":"CASE","originId":"ORDER_TO_CASH_overdue_and_open_ar_items","createdAt":"2023-03-17T17:40:42.625425Z"},{"id":"average-invoice-customer-proc-22","name":"Average invoice customer process time","description":"Average time from the posting of goods issue to the creation of an invoice item","signalFragment":"AVG(\n\t(SELECT LAST(end_time) WHERE event_name IN (${billing_creation_events}))\n\t-\n\t(SELECT FIRST(end_time) WHERE event_name IN (${shipping_events}))\n)","variables":["billingcreationevents-19","shippingevents-18"],"aggregationType":"CASE","originId":"ORDER_TO_CASH_avg_invoice_customer_process_time","createdAt":"2023-03-17T17:40:42.574411Z"},{"id":"average-invoice-payment-time-66","name":"Average invoice payment time","description":"Average number of days that it takes a company to collect payment after a sale","signalFragment":"AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${billing_clearing_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${billing_creation_events}))\n\t)\n","variables":["billingclearingevents-18","billingcreationevents-19"],"aggregationType":"CASE","originId":"ORDER_TO_CASH_otc_avg_invoice_payment_time","createdAt":"2023-03-17T17:40:42.574108Z"},{"id":"lead-time-invoice-creation-to-55","name":"Lead time: invoice creation to accounts receivable clearing","description":"Average lead time for items that were cleared within a reference period","signalFragment":"AVG(\n\t(SELECT LAST(\"InvoiceAccountingClearingDate\") WHERE \n\t\t((NOW() - LAST(end_time)) < DURATION ${invoice_clearing_period}))\n\t-(SELECT FIRST(${invoice_reference_date})WHERE \n\t\t((NOW() - LAST(end_time)) < DURATION ${invoice_posting_period}))\n\t)","variables":["invoiceclearingperiod-17","invoicereferencedate-17","invoicepostingperiod-17"],"aggregationType":"CASE","originId":"ORDER_TO_CASH_avg_invoice_creation_clearing_time","createdAt":"2023-03-17T17:40:42.573676Z"},{"id":"average-processing-time-for-s-36","name":"Average processing time for sales orders","description":"Average time from the creation of a sales order item to its complete processing","signalFragment":"AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${processing_completion_events}))\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${sales_order_item_creation_events}))\n\t)","variables":["processingcompletionevents-17","salesorderitemcreationevents-20"],"aggregationType":"CASE","originId":"ORDER_TO_CASH_avg_sales_order_processing_time","createdAt":"2023-03-17T17:40:42.572017Z"},{"id":"lead-time-sales-document-item-46","name":"Lead time: sales document item creation to delivery creation","description":"Average lead time from the event 'Create Sales Order Item' to the event 'Create Delivery Order Item'","signalFragment":"AVG(\n\t(SELECT LAST(end_time)\n\t\tWHERE event_name IN (${outbound_delivery_creation_events}) AND\n\t\t((NOW() - LAST(end_time)) < DURATION ${outbound_delivery_period})\n\t\t)\n\t-(SELECT FIRST(end_time)\n\t\tWHERE event_name IN (${sales_order_item_creation_events})\n\t\t)\n\t)","variables":["outbounddeliverycreationevent-17","outbounddeliveryperiod-17","salesorderitemcreationevents-20"],"aggregationType":"CASE","originId":"ORDER_TO_CASH_avg_sales_doc_to_delivery_creation_time","createdAt":"2023-03-17T17:40:42.530989Z"}],"metricsVariables":[{"id":"openaccountsreceivableconditi-17","name":"open_accounts_receivable_condition","description":"Condition defining that an invoice has not been cleared so far, although it was expected to. For example: NOW() > \"InvoiceDueDate\"","value":"NOW() > \"InvoiceDueDate\""},{"id":"billingcreationevents-19","name":"billing_creation_events","description":"Events identifying the creation of invoice items, for example 'Create Invoice Item'","value":"'Create Invoice'"},{"id":"invoicepostingperiod-17","name":"invoice_posting_period","description":"Reference time period to monitor invoices that have been paid, for example, for payments that have been paid at least 1 day ago: '1days'","value":"'600days'"},{"id":"ontimedeliverycondition-18","name":"ontime_delivery_condition","description":"Condition defining that a delivery is on time, for example \"DeliveryGoodsMovementOnTime\" = 'Yes'","value":"\"DeliveryGoodsMovementOnTime\" = 'Yes'"},{"id":"invoiceclearingperiod-17","name":"invoice_clearing_period","description":"Reference time period to monitor cleared invoices, for example, for invoices that were cleared during last week: '7days'","value":"'600days'"},{"id":"shippingevents-18","name":"shipping_events","description":"Events identifying that the goods have been shipped, for example 'Post Goods Issue'","value":"'Post Goods Issue'"},{"id":"outbounddeliverycreationevent-17","name":"outbound_delivery_creation_events","description":"Events identifying that an Outbound Delivery Item has been created, for example: 'Create Outbound Delivery Item'","value":"'Create Outbound Delivery'"},{"id":"otcchangeevents-18","name":"otc_change_events","description":"Events referring to changes made to the sales doc item, for example: 'Change Sales Doc Item Price'","value":"'Change Sales Doc Item Price',  'Change Sales Doc Item Material',  'Change Sales Doc Item Plant', 'Change Sales Doc Item Quantity', 'Change Sales Doc Item Route', 'Change Sales Doc Item Delivery Amount'"},{"id":"outbounddeliveryperiod-17","name":"outbound_delivery_period","description":"Reference time period in which outbound deliveries have been created, counting backward from today, for example: '7days'","value":"'600days'"},{"id":"invoicereferencedate-17","name":"invoice_reference_date","description":"Attributes identifying which field of the accounting document is used for the calculation of the lead time, for example: \"InvoiceAccountingDocumentDate\"","value":"\"InvoiceAccountingDocumentPostingDate\""},{"id":"processingcompletionevents-17","name":"processing_completion_events","description":"Events identifying when a sales order is processed, for example 'Sales Order Completely Processed'","value":"'Sales Order Completely Processed'"},{"id":"invoiceoverduecondition-17","name":"invoice_overdue_condition","description":"Condition defining that an invoice was cleared after the due date, for example \"InvoiceAccountingClearingDate\" > \"InvoiceDueDate\"","value":"\"InvoiceAccountingClearingDate\" > \"InvoiceDueDate\""},{"id":"billingclearingevents-18","name":"billing_clearing_events","description":"Events identifying that an invoice was cleared, for example 'Clear Invoice'","value":"'Clear Invoice'"},{"id":"salesorderitemcreationevents-20","name":"sales_order_item_creation_events","description":"Events identifying the creation of a sales order, for example 'Create Sales Order Item'","value":"'Create Sales Order Item'"}],"processVariables":[{"id":"deliverytotalquantitydelivere-34","name":"DeliveryTotalQuantityDelivered","displayName":"DeliveryTotalQuantityDelivered","dataType":"DOUBLE_PRECISION","level":"CASE"},{"id":"deliverytype-34","name":"DeliveryType","displayName":"DeliveryType","dataType":"CHOICE","level":"CASE"},{"id":"invoicecurrency-37","name":"InvoiceCurrency","displayName":"InvoiceCurrency","dataType":"CHOICE","level":"CASE"},{"id":"invoiceitemtotalgrossamount-31","name":"InvoiceItemTotalGrossAmount","displayName":"InvoiceItemTotalGrossAmount","dataType":"DOUBLE_PRECISION","level":"CASE"},{"id":"invoiceitemtotalgrossamountpa-61","name":"InvoiceItemTotalGrossAmountPaid","displayName":"InvoiceItemTotalGrossAmountPaid","dataType":"DOUBLE_PRECISION","level":"CASE"},{"id":"salesdoccustomercompany-34","name":"SalesDocCustomerCompany","displayName":"SalesDocCustomerCompany","dataType":"CHOICE","level":"CASE"},{"id":"salesdoccustomercountry-34","name":"SalesDocCustomerCountry","displayName":"SalesDocCustomerCountry","dataType":"CHOICE","level":"CASE"},{"id":"salesdocid-34","name":"SalesDocId","displayName":"SalesDocId","dataType":"CHOICE","level":"CASE"},{"id":"salesdocitemnetvalue-34","name":"SalesDocItemNetValue","displayName":"SalesDocItemNetValue","dataType":"DOUBLE_PRECISION","level":"CASE"},{"id":"salesdocitemquantityordered-34","name":"SalesDocItemQuantityOrdered","displayName":"SalesDocItemQuantityOrdered","dataType":"DOUBLE_PRECISION","level":"CASE"}],"investigation":{"name":"DEMO - Order-to-Cash S/4HANA","rootWidget":{"name":"root chapter","id":"root-chapter-271","visualization":{"type":"CHAPTER"},"filters":[],"children":[{"name":"Process Discovery","id":"process-discovery-417","visualization":{"type":"FUZZY_MODEL","edgeGranularity":53,"nodeGranularity":25,"width":"FULL"},"dataSource":{"type":"STRUCTURED","projections":[{"type":"PARAMETERIZED","attribute":"OCCURRENCES","aggregation":"SUM","parameter":{"type":"SEMANTIC_TYPE","semanticType":"OCCURRENCES"}}]},"filters":[],"children":[]},{"name":"Process Variants","id":"process-variants-90","visualization":{"type":"PROCESS_DISCOVERY","graphRenderingMode":"DEFAULT","edgeDimension":"FREQUENCY","variantSelection":{"dataSource":"ATTRIBUTE","selectedVariants":[["Create Sales Order Item","Create Outbound Delivery Item","Document Released By Credit Representive","Goods Movement Completely Processed","Picking Completely Processed","Post Goods Issue","Update Sales Doc Credit value","Update Sales Doc Release date","Create Invoice Item","Post Invoice"],["Create Sales Order Item","Create Outbound Delivery Item","Goods Movement Completely Processed","Picking Completely Processed","Post Goods Issue","Create Invoice Item","Post Invoice"],["Create Sales Order Item"],["Create Sales Order Item","Create Outbound Delivery","Document Released By Credit Representative","Update Sales Doc Credit value","Update Sales Doc Release date","Goods Movement Completely Processed","Picking Completely Processed","Post Goods Issue","Create Invoice"],["Create Sales Order Item","Document Released By Credit Representative","Update Sales Doc Credit value","Update Sales Doc Release date","Create Outbound Delivery","Update Sales Doc Release date","Goods Movement Completely Processed","Picking Completely Processed","Post Goods Issue","Create Invoice"]],"sortBy":"VALUE","aggregationDimension":"deliverytotalquantitydelivere-6","order":"DESC"}},"filters":[{"type":"PROCESS_DISCOVERY","id":"processdiscovery-118","enabled":true,"dataSource":"VARIANT","includes":["[203]","[203, 239, 169, 24, 47, 199, 114, 111, 182]","[203, 169, 24, 47, 239, 47, 199, 114, 111, 182]"],"variantsAsEventNames":[["Create Sales Order Item"],["Create Sales Order Item","Create Outbound Delivery","Document Released By Credit Representative","Update Sales Doc Credit value","Update Sales Doc Release date","Goods Movement Completely Processed","Picking Completely Processed","Post Goods Issue","Create Invoice"],["Create Sales Order Item","Document Released By Credit Representative","Update Sales Doc Credit value","Update Sales Doc Release date","Create Outbound Delivery","Update Sales Doc Release date","Goods Movement Completely Processed","Picking Completely Processed","Post Goods Issue","Create Invoice"]],"aggregationDimension":"FREQUENCY","order":"DESC"}],"children":[]},{"name":"Sale orders","id":"orders--invoices-2","visualization":{"type":"CHAPTER"},"filters":[],"children":[{"name":"Total number of sales orders","id":"total-number-of-sales-orders-53","visualization":{"type":"VALUE","thresholds":{"baseColor":"red","type":"REGION","visible":true,"values":[{"label":"quarterly goal","colorAbove":"green","value":3500.0}]}},"dataSource":{"type":"STRUCTURED","projections":[{"type":"METRIC","metric":"total-number-of-sales-orders-46"}]},"filters":[],"children":[]},{"name":"Average sales order processing time ","id":"average-processing-time-for-s-40","visualization":{"type":"VALUE"},"dataSource":{"type":"STRUCTURED","projections":[{"type":"METRIC","metric":"average-processing-time-for-s-36"}]},"filters":[],"children":[]},{"name":"Average quantity per sales order","id":"average-order-amounts-2","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":0,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":" "}},"dataSource":{"type":"STRUCTURED","projections":[{"type":"PARAMETERIZED","attribute":"salesdocitemquantityordered-34","aggregation":"AVG","parameter":{"type":"PROCESS_VARIABLE","name":"SalesDocItemQuantityOrdered"}}]},"filters":[],"children":[]},{"name":"No-Touch-Order Rate","id":"no-touch-order-rate-60","visualization":{"type":"VALUE","unit":{"type":"SUFFIX","suffix":"%"}},"dataSource":{"type":"STRUCTURED","projections":[{"type":"METRIC","metric":"no-touch-order-rate-61"}]},"filters":[],"children":[]},{"name":"Sales order quantity by location","id":"sales-order-quantity-by-locat-4","visualization":{"type":"SCATTER_PLOT","hasRegressionLine":false},"dataSource":{"type":"STRUCTURED","projections":[{"type":"PARAMETERIZED","attribute":"invoiceitemtotalgrossamountpa-61","parameter":{"type":"PROCESS_VARIABLE","name":"InvoiceItemTotalGrossAmountPaid"}},{"type":"PARAMETERIZED","attribute":"salesdocitemquantityordered-34","parameter":{"type":"PROCESS_VARIABLE","name":"SalesDocItemQuantityOrdered"}}],"groupBy":[{"type":"ATTRIBUTE","attribute":"salesdoccustomercountry-34","parameter":{"type":"PROCESS_VARIABLE","name":"SalesDocCustomerCountry"}}]},"filters":[],"children":[]},{"name":"Sales order value vs delivered quantity","id":"sales-order-value-vs-delivere-4","visualization":{"type":"SCATTER_PLOT","hasRegressionLine":false},"dataSource":{"type":"STRUCTURED","projections":[{"type":"PARAMETERIZED","attribute":"deliverytotalquantitydelivere-34","parameter":{"type":"PROCESS_VARIABLE","name":"DeliveryTotalQuantityDelivered"}},{"type":"PARAMETERIZED","attribute":"salesdocitemnetvalue-34","parameter":{"type":"PROCESS_VARIABLE","name":"SalesDocItemNetValue"}}],"groupBy":[{"type":"ATTRIBUTE","attribute":"deliverytype-34","parameter":{"type":"PROCESS_VARIABLE","name":"DeliveryType"}}]},"filters":[],"children":[]},{"name":"Number of sales orders per customer","id":"-order-per-customer-2","visualization":{"type":"BAR_CHART","orientation":"HORIZONTAL","grouping":"STACKED"},"dataSource":{"type":"STRUCTURED","projections":[{"type":"PARAMETERIZED","attribute":"salesdocid-34","aggregation":"COUNT","parameter":{"type":"PROCESS_VARIABLE","name":"SalesDocId"}}],"groupBy":[{"type":"ATTRIBUTE","attribute":"salesdoccustomercompany-34","parameter":{"type":"PROCESS_VARIABLE","name":"SalesDocCustomerCompany"}}]},"filters":[],"children":[]},{"name":"Total number of reject sales order","id":"-of-rejections-2","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(\"event_name\") FILTER (\n        \tWHERE BEHAVIOR (event_name LIKE 'Reject Sales%') \n            AS created_with_dialog MATCHES (created_with_dialog))\nFROM FLATTEN(THIS_PROCESS)\n"},"filters":[],"children":[]}]},{"name":"Delivery","id":"on-time-delivery-33","visualization":{"type":"CHAPTER"},"filters":[],"children":[{"name":"On-time delivery rate","id":"on-time-delivery-rate-76","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"},"thresholds":{"baseColor":"red","type":"REGION","visible":true,"values":[{"colorAbove":"green","value":70.0}]}},"dataSource":{"type":"STRUCTURED","projections":[{"type":"METRIC","metric":"on-time-delivery-rate-69"}]},"filters":[],"children":[]},{"name":"On-time delivery rate over time","id":"breakdown-across-time-2","visualization":{"type":"TIME_SERIES","thresholds":{"baseColor":"red","type":"REGION","visible":true,"values":[{"colorAbove":"green","value":70.0}]}},"dataSource":{"type":"SIGNAL","query":"SELECT\n    DATE_TRUNC('Month', (SELECT FIRST(end_time))) as Month,\n    COUNT (CASE_ID) \n    \tFILTER (WHERE (SELECT COUNT (EVENT_NAME) \n        \t\t\tWHERE (\"DeliveryGoodsMovementOnTime\" = 'Yes')) > 0) \n    / COUNT(CASE_ID)\n    \tFILTER (WHERE (SELECT BOOL_OR(EVENT_NAME IN ('Create Outbound Delivery')))) \n* 100 AS \"On-time delivery rate\"\nFROM THIS_PROCESS\nORDER BY 1 ASC NULLS FIRST\nFILL TIMESERIES('MONTH'), NULL"},"filters":[{"type":"CASE_DATE","id":"casedate-52","enabled":true,"startDate":"2020-01-01T00:00:00Z","caseInclusionCriterion":"CASES_STARTED"}],"children":[]},{"name":"Number of changes in delivery Items","id":"number-of-changes-in-delivery-1","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(\"event_name\") FILTER (\n        WHERE BEHAVIOR (\n            event_name iLIKE 'Update Delivery%'\n       --     OR event_name iLIKE 'Change Delivery%' \n            ) AS created_with_dialog MATCHES (created_with_dialog))\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"% of automatic delivery items changes","id":"-of-automatic-delivery-items--1","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"}},"dataSource":{"type":"SIGNAL","query":"SELECT\n    COUNT(\"event_name\") FILTER (\n        WHERE BEHAVIOR (\n              \"EventCreatedByUserType\"  IN ('System','Service','Batch Job')\n            ) AS created_with_dialog MATCHES (created_with_dialog)\n    ) / COUNT(\"event_name\") * 100\nFROM FLATTEN(THIS_PROCESS)\nWHERE (event_name LIKE 'Change Delivery%' \n\tOR event_name LIKE 'Update Delivery%')"},"filters":[],"children":[]},{"name":"Top 10 Customers with the highest amount of delivery item changes ","id":"-top-10-customers-with-most-d-3","description":"","visualization":{"type":"PIE_CHART"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT (\"event_name\") \n\tFILTER (WHERE BEHAVIOUR (EVENT_NAME LIKE \n\t\t'Change Delivery%' OR event_name LIKE 'Update Delivery%') \n        AS created_with_dialog MATCHES (created_with_dialog))\n    ,\"SalesDocCustomerCompany\" \nFROM FLATTEN(THIS_PROCESS)\nWHERE SalesDocCustomerCompany IS NOT NULL\nGROUP BY 2\nORDER BY 1 DESC\nLimit 10"},"filters":[],"children":[]},{"name":"Number of delivery item changes over time","id":"-of-delivery-item-changes-ove-2","visualization":{"type":"TIME_SERIES"},"dataSource":{"type":"SIGNAL","query":"SELECT DATE_TRUNC('month', end_time) AS \"Week\", \n\t\tCOUNT (\"event_name\") \n        FILTER (WHERE BEHAVIOUR \n        \t(EVENT_NAME LIKE 'Change Delivery%' \n         \tOR event_name LIKE 'Update Delivery%') \n        AS created_with_dialog MATCHES (created_with_dialog)) AS \"# Cases\"\nFROM FLATTEN(THIS_PROCESS)\nORDER BY 1 ASC NULLS FIRST\nFILL timeseries('Month'), NULL\n\n\n"},"filters":[{"type":"CASE_DATE","id":"casedate-51","enabled":true,"startDate":"2020-01-01T00:00:00Z","caseInclusionCriterion":"CASES_STARTED"}],"children":[]}]},{"name":"Invoices","id":"invoices-3","visualization":{"type":"CHAPTER"},"filters":[],"children":[{"name":"Total number of invoices","id":"-of-invoices-2","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT (DISTINCT \"InvoiceId\")\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Average invoice process time","id":"avginvoice-process-time-1","visualization":{"type":"VALUE"},"dataSource":{"type":"STRUCTURED","projections":[{"type":"METRIC","metric":"average-invoice-customer-proc-22"}]},"filters":[],"children":[]},{"name":"Average invoice payment time","id":"avg-invoice-payment-time-1","visualization":{"type":"VALUE","thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":1.47258E9}]}},"dataSource":{"type":"STRUCTURED","projections":[{"type":"METRIC","metric":"average-invoice-payment-time-66"}]},"filters":[],"children":[]},{"name":"Number of late payment invoices","id":"overdue-and-open-accounts-rec-45","visualization":{"type":"VALUE"},"dataSource":{"type":"STRUCTURED","projections":[{"type":"METRIC","metric":"overdue-and-open-accounts-rec-40"}]},"filters":[],"children":[]},{"name":"Average invoice gross value by invoice currency","id":"average-invoice-item-gross-am-4","visualization":{"type":"BAR_CHART","orientation":"HORIZONTAL","grouping":"STACKED"},"dataSource":{"type":"STRUCTURED","projections":[{"type":"PARAMETERIZED","attribute":"invoiceitemtotalgrossamount-31","aggregation":"AVG","parameter":{"type":"PROCESS_VARIABLE","name":"InvoiceItemTotalGrossAmount"}}],"groupBy":[{"type":"ATTRIBUTE","attribute":"invoicecurrency-37","parameter":{"type":"PROCESS_VARIABLE","name":"InvoiceCurrency"}}]},"filters":[{"type":"PROCESS_VAR_CHOICE","id":"processvarchoice-234","enabled":true,"processVariable":"invoicecurrency-37","parameter":{"type":"PROCESS_VARIABLE","name":"InvoiceCurrency"},"excludes":[null]}],"children":[]},{"name":"Number of changes in invoice items","id":"-of-invoice-item-changes-2","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":0,"mode":"ROUND_UP"}},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(\"event_name\") \n\tFILTER(WHERE BEHAVIOR (\n           event_name LIKE 'Change Invoice%' \n           OR event_name LIKE 'Create Invoice Cancellation%' \n           OR event_name LIKE 'Update Invoice%'\n           ) AS created_with_dialog MATCHES (created_with_dialog))\nFROM FLATTEN(THIS_PROCESS)\n\n"},"filters":[],"children":[]},{"name":"% of automatic invoice changes","id":"-of-automatic-invoice-changes-3","visualization":{"type":"VALUE","unit":{"type":"SUFFIX","suffix":"%"}},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(\"event_name\") \n\tFILTER (WHERE BEHAVIOR (\n            \"EventCreatedByUserType\" IN ('System','Service','Batch Job')\n            ) AS created_with_dialog MATCHES (created_with_dialog)) \n    / COUNT(\"event_name\") * 100\nFROM FLATTEN(THIS_PROCESS)\nWHERE (event_name LIKE 'Change Invoice%' \n\tOR event_name LIKE 'Create Invoice Item Cancellation%' \n    OR event_name LIKE 'Update Invoice%')"},"filters":[],"children":[]},{"name":"Number of changes per change type","id":"-change-overview-4","visualization":{"type":"OLAP_TABLE","columnConfigurations":[]},"dataSource":{"type":"SIGNAL","query":"SELECT\n\tevent_name AS \"Event Name\",\n    COUNT(event_name) AS \"# of Events\"\n\nFROM FLATTEN(THIS_PROCESS )\nWHERE\n    (   event_name LIKE 'Change Invoice%' OR event_name LIKE 'Create Invoice Item Cancellation%' OR event_name LIKE 'Update Invoice%')\nORDER BY 2 desc"},"filters":[],"children":[]},{"name":"Number of invoice item changes over time","id":"-of-invoice-item-changes-over-2","visualization":{"type":"TIME_SERIES"},"dataSource":{"type":"SIGNAL","query":"SELECT DATE_TRUNC('month', end_time) AS \"Week\"\n\t,COUNT (\"event_name\")\n    \tFILTER (WHERE BEHAVIOUR \n        \t(EVENT_NAME LIKE 'Change Invoice%' \n            \tOR event_name LIKE 'Create Invoice Item Cancellation%' \n                OR event_name LIKE 'Update Invoice%') \n        AS created_with_dialog MATCHES (created_with_dialog)) AS \"# Cases\"\nFROM FLATTEN (THIS_PROCESS)\nORDER BY 1 ASC NULLS FIRST\nFILL timeseries('Month'), NULL\n\n\n"},"filters":[{"type":"CASE_DATE","id":"casedate-58","enabled":true,"startDate":"2020-01-01T00:00:00Z","caseInclusionCriterion":"CASES_STARTED_AND_ENDED"},{"type":"CASE_DATE","id":"casedate-59","enabled":true,"startDate":"2020-01-01T00:00:00Z","caseInclusionCriterion":"CASES_STARTED_AND_ENDED"}],"children":[]},{"name":"Top 10 Customers with the highest amount of invoice item changes","id":"-top-10-customers-with-most-i-2","visualization":{"type":"PIE_CHART"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT (\"event_name\") FILTER (WHERE BEHAVIOUR (EVENT_NAME LIKE \n 'Change Invoice%' OR event_name LIKE 'Create Invoice Item Cancellation%' OR event_name LIKE 'Update Invoice%') AS created_with_dialog MATCHES (created_with_dialog)),\"SalesDocCustomerCompany\" \nFROM FLATTEN(THIS_PROCESS)\nGROUP BY 2\norder by 1 desc\nLimit 10"},"filters":[],"children":[]}]},{"name":"Quotation","id":"quotation-1","visualization":{"type":"CHAPTER"},"filters":[],"children":[{"name":"Total number of Quotations","id":"-of-quotations-2","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT\n    COUNT  (DISTINCT \"SalesDocId\" ) FILTER (\n        WHERE\n            BEHAVIOR (\n                 event_name LIKE 'Create Quotation Item%'\n            ) AS created_with_dialog MATCHES (created_with_dialog))\n\nFROM\n    FLATTEN(THIS_PROCESS)\n"},"filters":[],"children":[]},{"name":"Number of changes in quotation","id":"-of-quotation-changes-2","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":0,"mode":"ROUND_UP"}},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(\"event_name\") \n\tFILTER (WHERE BEHAVIOR (\n              event_name LIKE 'Change Quotation%' \n              OR event_name LIKE 'Update Quotation%'\n            )AS created_with_dialog MATCHES (created_with_dialog))\nFROM FLATTEN(THIS_PROCESS)\n\n"},"filters":[],"children":[]},{"name":"% of Automatic Quotation Changes","id":"value-134","visualization":{"type":"VALUE","unit":{"type":"SUFFIX","suffix":"%"}},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(\"event_name\") \n\tFILTER (WHERE BEHAVIOR (\n               \"EventCreatedByUserType\" IN ('System','Service','Batch Job')\n            )AS created_with_dialog MATCHES (created_with_dialog))\n    /COUNT(\"event_name\") * 100\nFROM FLATTEN(THIS_PROCESS)\nWHERE(event_name LIKE 'Change Quotation%' \n\tOR event_name LIKE 'Update Quotation%')\n"},"filters":[],"children":[]},{"name":"Top 10 Customers with the highest amount of quotation changes ","id":"-top-10-customers-with-most-q-2","visualization":{"type":"PIE_CHART"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT (\"event_name\") FILTER (WHERE BEHAVIOUR (EVENT_NAME LIKE \n\n'Change Quotation%' OR event_name LIKE 'Update Quotation%') AS created_with_dialog MATCHES (created_with_dialog)),\"SalesDocCustomerCompany\" \nFROM FLATTEN(THIS_PROCESS)\nGROUP BY 2\norder by 1 desc\nLimit 10"},"filters":[],"children":[]},{"name":"Number of quotation item changes over time","id":"-of-quotation-changes-over-ti-2","visualization":{"type":"TIME_SERIES"},"dataSource":{"type":"SIGNAL","query":"SELECT DATE_TRUNC('month', end_time) AS \"Week\", COUNT (\"event_name\") FILTER (WHERE BEHAVIOUR (EVENT_NAME LIKE \n'Change Quotation%' OR event_name LIKE 'Update Quotation%') AS created_with_dialog MATCHES (created_with_dialog)) as \"# Cases\"\nFROM FLATTEN(THIS_PROCESS)\nORDER BY 1 ASC NULLS FIRST\nFILL timeseries('Month'), NULL\n\n\n"},"filters":[{"type":"CASE_DATE","id":"casedate-62","enabled":true,"startDate":"2020-01-01T00:00:00Z","caseInclusionCriterion":"CASES_STARTED_AND_ENDED"}],"children":[]}]},{"name":"Lead times","id":"lead-times-2","visualization":{"type":"CHAPTER"},"filters":[],"children":[{"name":"Lead time: sales order creation to delivery creation","id":"lead-time-invoice-to-clearing-4","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT AVG (\n\t(SELECT LAST (END_TIME) WHERE EVENT_NAME \n\t\t\tIN ('Create Outbound Delivery') \n            AND((NOW() - LAST (END_TIME)) < DURATION '3000days')) - \n\t\t\t(SELECT FIRST (END_TIME) WHERE EVENT_NAME IN ('Create Sales Order Item'))) \n\tAS \"Lead time: sales document item creation to delivery creation\"\nFROM THIS_PROCESS"},"filters":[],"children":[]},{"name":"Lead time: quotation to sales order","id":"lead-time-quotation-to-sales--3","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT AVG ((SELECT LAST (END_TIME) WHERE EVENT_NAME \nIN ('Create Sales Order Item') AND\n((NOW() - LAST (END_TIME)) < DURATION '3000days')) - \n(SELECT FIRST (END_TIME) WHERE EVENT_NAME IN ('Create Quotation Item'))) \nAS \"Lead time: sales document item creation to delivery creation\"\nFROM THIS_PROCESS\n--ORDER BY 1 DESC NULLS LAST\n--LIMIT 5"},"filters":[],"children":[]},{"name":"Lead time: delivery to goods issued","id":"lead-time-delivery-to-goods-i-3","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT AVG ((SELECT LAST (END_TIME) WHERE EVENT_NAME \nIN ('Post Goods Issue') AND\n((NOW() - LAST (END_TIME)) < DURATION '3000days')) - \n(SELECT FIRST (END_TIME) WHERE EVENT_NAME IN ('Create Outbound Delivery'))) \nAS \"Lead time: sales document item creation to delivery creation\"\nFROM THIS_PROCESS\n--ORDER BY 1 DESC NULLS LAST\n--LIMIT 5"},"filters":[],"children":[]},{"name":"Lead time: invoice creation to accounts receivable clearing","id":"lead-time-invoice-creation-to-63","visualization":{"type":"VALUE"},"dataSource":{"type":"STRUCTURED","projections":[{"type":"METRIC","metric":"lead-time-invoice-creation-to-55"}]},"filters":[],"children":[]},{"name":"Lead time: sales document item creation to delivery creation over time","id":"lead-time-sales-document-item-55","visualization":{"type":"TIME_SERIES"},"dataSource":{"type":"STRUCTURED","projections":[{"type":"METRIC","metric":"lead-time-sales-document-item-46"}],"timeBucket":"MONTH"},"filters":[{"type":"CASE_DATE","id":"casedate-63","enabled":true,"startDate":"2020-01-01T00:00:00Z","caseInclusionCriterion":"CASES_STARTED_AND_ENDED"}],"children":[]}]}]},"metricsBar":[],"eventToShapeMappings":{"mappings":[]}}}