{"metrics":[{"id":"invoiced-amount-3","name":"Invoiced Amount","description":"Global Currency","signalFragment":"SUM(\"AR_InvoicedAmountInGlobalCurrency\")","variables":[],"aggregationType":"CASE","unit":{"type":"CURRENCY","currencyCode":"EUR"},"createdAt":"2023-01-16T15:04:07.539753Z"}],"metricsVariables":[],"processVariables":[{"id":"overdue-category-5","name":"Overdue Category","displayName":"Overdue Category","dataType":"CHOICE","level":"EVENT"}],"investigation":{"name":"01. I2C - General Analysis (Copy)","rootWidget":{"name":"root chapter","id":"root-chapter-193","visualization":{"type":"CHAPTER"},"filters":[{"type":"CASE_DATE","id":"casedate-44","enabled":true,"startDate":"2021-08-01T00:00:00Z","caseInclusionCriterion":"CASES_OPEN"}],"children":[{"name":"Invoice to Cash Process Overview","id":"invoice-to-cash-process-overv-3","description":"This Investigation aims to help to analyse the Project to Cash Process and identify process execution bottlenecks.","visualization":{"type":"TEXT"},"dataSource":{"type":"STATIC","data":{"entityMap":{},"blocks":[{"depth":0,"data":{},"inlineStyleRanges":[],"text":"This investigation aims to build an overview of Invoice-to-Cash process.","type":"header-two","key":"al0ev","entityRanges":[]},{"depth":0,"data":{},"inlineStyleRanges":[],"text":" - Each chapter below focuses on one sub-process or dimensions (like Customer)","type":"header-two","key":"16sa8","entityRanges":[]},{"depth":0,"data":{},"inlineStyleRanges":[],"text":" - Potential bottlenecks/opportunities are logged as \"insight\" and can be assigned to the responsible people.","type":"header-two","key":"fa1t2","entityRanges":[]}]}},"filters":[],"children":[]},{"name":"10. Top KPIs Overview - DZ & SA and Others","id":"10-top-kpis-overview---dz--sa-2","visualization":{"type":"CHAPTER"},"filters":[],"children":[{"name":"1. Outstanding invoices for 30 days and more","id":"1-outstanding-invoices-for-30-6","description":"Number of AR documents (Today - Document Date) > 30 days","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(DISTINCT \"ARUniqueKey\" ) FILTER(\n\tWHERE\n    \tevent_name = 'Create Accounts Receivable'\n        AND ClearingDate IS NULL\n\t\tAND (NOW()-DocumentDate)> DURATION '30day'\n)\nFROM FLATTEN (THIS_PROCESS)"},"filters":[],"children":[]},{"name":"2. Overdue receivable items (14 days or longer overdue)","id":"2-overdue-receivable-items-14-2","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT count(DISTINCT \"ARUniqueKey\") \nFROM FLATTEN(THIS_PROCESS)\nWHERE ClearingJournalEntry IS NULL\nAND event_name = 'Create Accounts Receivable'\nAND (NOW()-NetDueDate)>= DURATION '14days'"},"filters":[],"children":[]},{"name":"4. Percentage of manually processed payments (out of clearly allocated payments ('SA','DZ'))","id":"4-percentage-of-manually-proc-2","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"}},"dataSource":{"type":"SIGNAL","query":"SELECT\n(count(DISTINCT \"ARUniqueKey\") FILTER\n(WHERE event_name = 'Clear Accounts Receivable' and AutomationFlag is null)\n/ \ncount(DISTINCT \"ARUniqueKey\") FILTER \n(WHERE event_name IN \n('Clear Accounts Receivable', \n'Clear Accounts Receivable')\n)\n) \n* 100\n FROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"6.a Paid Late Ratio (across all clearings incl. \"Others\", by Volume)","id":"6a-paid-late-ratio-across-all-2","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"yellow","value":20.0},{"colorAbove":"red","value":60.0}],"goal":50.0}},"dataSource":{"type":"SIGNAL","query":"SELECT (\nCOUNT (DISTINCT ARUniqueKey) \nFILTER (WHERE EVENT_NAME LIKE '%Clear Accounts Receivable%' \nAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n/ COUNT (DISTINCT ARUniqueKey) \nFILTER (WHERE EVENT_NAME LIKE '%Clear Accounts Receivable%' ) \n) * 100\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"6.a Paid Late Ratio (only incl. clearly allocated payments ('SA','DZ'), by Volume)","id":"6a-paid-late-ratio-only-incl--5","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"yellow","value":20.0},{"colorAbove":"red","value":60.0}],"goal":50.0}},"dataSource":{"type":"SIGNAL","query":"SELECT (\nCOUNT (DISTINCT ARUniqueKey) \nFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable' \nAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n/ COUNT (DISTINCT ARUniqueKey) \nFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable') \n) * 100\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"6b. Paid Late Ratio (only incl. clearly allocated payments ('SA','DZ'), by Value)","id":"6b-paid-late-ratio-only-incl--5","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"yellow","value":20.0},{"colorAbove":"red","value":60.0}],"goal":50.0}},"dataSource":{"type":"SIGNAL","query":"SELECT (\nSUM (\"AmountInGlobalCurrency\" ) \nFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable'  \nAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n/ SUM (\"AmountInGlobalCurrency\" )\nFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable' )\n) * 100\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"6b. Paid Late Ratio (across all clearings incl. \"Others\", by Value)","id":"6b-paid-late-ratio-across-all-2","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"yellow","value":20.0},{"colorAbove":"red","value":60.0}],"goal":50.0}},"dataSource":{"type":"SIGNAL","query":"SELECT (\nSUM (\"AmountInGlobalCurrency\" ) \nFILTER (WHERE EVENT_NAME LIKE '%Clear Accounts Receivable%'  \nAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n/ SUM (\"AmountInGlobalCurrency\" )\nFILTER (WHERE EVENT_NAME LIKE '%Clear Accounts Receivable%' )\n) * 100\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"8. Average AR Creation to Clearing Cycle Time (all AR documents)","id":"8-average-ar-creation-to-clea-7","description":"Clearing Time","visualization":{"type":"VALUE","unit":{"type":"DURATION"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":2.4192E9}]}},"dataSource":{"type":"SIGNAL","query":"SELECT AVG(AVG_ClearingTime) FROM (\nSELECT case_id, \nClearingJournalEntry, \n--BillingDocument,\nevent_name, \nend_time - FIRST(end_time) FILTER (WHERE event_name = 'Create Accounts Receivable') OVER (PARTITION BY \"ARUniqueKey\" ORDER BY end_time)\nAS AVG_ClearingTime\nFROM FLATTEN(THIS_PROCESS)\n)\nAS temp\nWHERE event_name LIKE 'Clear Accounts Receivable%'\n"},"filters":[],"children":[]},{"name":"8.a) Average AR Creation to Clearing Cycle Time (out of clearly allocated payments ('SA','DZ'))","id":"8a-average-ar-creation-to-cle-2","description":"Clearing Time","visualization":{"type":"VALUE","unit":{"type":"DURATION"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":2.4192E9}]}},"dataSource":{"type":"SIGNAL","query":"SELECT AVG(AVG_ClearingTime) FROM (\nSELECT case_id, \nClearingJournalEntry, \n--BillingDocument,\nevent_name, \nend_time - FIRST(end_time) FILTER (WHERE event_name = 'Create Accounts Receivable') OVER (PARTITION BY \"ARUniqueKey\" ORDER BY end_time)\nAS AVG_ClearingTime\nFROM FLATTEN(THIS_PROCESS)\n)\nAS temp\nWHERE event_name LIKE 'Clear Accounts Receivable'\n"},"filters":[],"children":[]},{"name":"Total Number of Receivables","id":"total-number-of-receivables-9","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT \ncount(DISTINCT \"ARUniqueKey\"  ) \nFROM FLATTEN(THIS_PROCESS)\nWHERE event_name = 'Create Accounts Receivable'"},"filters":[],"children":[]},{"name":"Total Invoiced  Amount (Global Currency - USD)","id":"total-invoiced--amount-global-5","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"CURRENCY","currencyCode":"USD"}},"dataSource":{"type":"STRUCTURED","projections":[{"type":"METRIC","metric":"invoiced-amount-3"}]},"filters":[],"children":[]},{"name":"Invoice-to-Cash Process Discovery","id":"invoice-to-cash-process-disco-6","visualization":{"type":"FUZZY_MODEL","edgeGranularity":31,"nodeGranularity":8,"width":"FULL"},"dataSource":{"type":"STRUCTURED","projections":[{"type":"PARAMETERIZED","attribute":"CYCLE_TIME","aggregation":"SUM","parameter":{"type":"SEMANTIC_TYPE","semanticType":"CYCLE_TIME"}}]},"filters":[],"children":[]}]},{"name":"Invoice-to-Cash in S/4HANA Cloud","id":"11-top-kpis-comparison---dz---2","visualization":{"type":"CHAPTER"},"filters":[],"children":[{"name":"Invoice-to-Cash Process Discovery","id":"invoice-to-cash-process-disco-7","visualization":{"type":"FUZZY_MODEL","edgeGranularity":0,"nodeGranularity":2,"width":"HALF"},"dataSource":{"type":"STRUCTURED","projections":[{"type":"PARAMETERIZED","attribute":"CYCLE_TIME","aggregation":"SUM","parameter":{"type":"SEMANTIC_TYPE","semanticType":"CYCLE_TIME"}}]},"filters":[],"children":[]},{"name":"6.a Paid Late Ratio (only incl. clearly allocated payments ('SA','DZ'), by Volume)","id":"6a-paid-late-ratio-only-incl--6","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"yellow","value":20.0},{"colorAbove":"red","value":60.0}],"goal":50.0}},"dataSource":{"type":"SIGNAL","query":"SELECT (\nCOUNT (DISTINCT ARUniqueKey) \nFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable' \nAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n/ COUNT (DISTINCT ARUniqueKey) \nFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable' ) \n) * 100\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"6b. Paid Late Ratio (only incl. clearly allocated payments ('SA','DZ'), by Value)","id":"6b-paid-late-ratio-only-incl--6","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"yellow","value":20.0},{"colorAbove":"red","value":60.0}],"goal":50.0}},"dataSource":{"type":"SIGNAL","query":"SELECT (\nSUM (\"AmountInGlobalCurrency\" ) \nFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable'  \nAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n/ SUM (\"AmountInGlobalCurrency\" )\nFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable' )\n) * 100\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"8. Average AR Creation to Clearing Cycle Time","id":"8-average-ar-creation-to-clea-8","description":"Clearing Time","visualization":{"type":"VALUE","unit":{"type":"DURATION"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":2.4192E9}]}},"dataSource":{"type":"SIGNAL","query":"SELECT AVG(AVG_ClearingTime) FROM (\nSELECT case_id, \nevent_name, \nend_time - FIRST(end_time) FILTER (WHERE event_name = 'Create Accounts Receivable') OVER (PARTITION BY \"ARUniqueKey\"  ORDER BY end_time)\nAS AVG_ClearingTime\nFROM FLATTEN(THIS_PROCESS)\n)\nAS temp\nWHERE event_name LIKE 'Clear Accounts Receivable'\n"},"filters":[],"children":[]},{"name":"4. Percentage of Payments Manually processed (out of all clearly allocated payments ('SA','DZ'))","id":"4-percentage-of-payments-manu-5","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"}},"dataSource":{"type":"SIGNAL","query":"SELECT\n(count(DISTINCT \"ARUniqueKey\"  ) FILTER\n(WHERE event_name = 'Clear Accounts Receivable' and AutomationFlag is null)\n/ \ncount(DISTINCT \"ARUniqueKey\"  ) FILTER \n(WHERE event_name IN \n('Clear Accounts Receivable')\n)\n) \n* 100\n FROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Total Number of Receivables","id":"total-number-of-receivables-10","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT \ncount(DISTINCT \"ARUniqueKey\"  ) \nFROM FLATTEN(THIS_PROCESS)\nWHERE event_name = 'Create Accounts Receivable'"},"filters":[],"children":[]},{"name":"Total Invoiced  Amount (Global Currency - USD)","id":"total-invoiced--amount-global-6","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"CURRENCY","currencyCode":"USD"}},"dataSource":{"type":"STRUCTURED","projections":[{"type":"METRIC","metric":"invoiced-amount-3"}]},"filters":[],"children":[]}]},{"name":"12. Top KPIs Comparison - Flow 1: Create AR --> Clear AR - Automated Payment Allocation","id":"12-top-kpis-comparison---flow-2","visualization":{"type":"CHAPTER"},"filters":[],"children":[{"name":"6.a Paid Late Ratio (only incl. clearly allocated payments ('SA','DZ'), by Volume)","id":"6a-paid-late-ratio-only-incl--7","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"yellow","value":20.0},{"colorAbove":"red","value":60.0}],"goal":50.0}},"dataSource":{"type":"SIGNAL","query":"SELECT (\nCOUNT (DISTINCT ARUniqueKey) \nFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable' \nAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n/ COUNT (DISTINCT ARUniqueKey) \nFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable' ) \n) * 100\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"6b. Paid Late Ratio (only incl. clearly allocated payments ('SA','DZ'), by Value)","id":"6b-paid-late-ratio-only-incl--7","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"yellow","value":20.0},{"colorAbove":"red","value":60.0}],"goal":50.0}},"dataSource":{"type":"SIGNAL","query":"SELECT (\nSUM (\"AmountInGlobalCurrency\" ) \nFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable'  \nAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n/ SUM (\"AmountInGlobalCurrency\" )\nFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable' )\n) * 100\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"4. Percentage of Payments Manually processed (out of all clearly allocated payments ('SA','DZ'))","id":"4-percentage-of-payments-manu-6","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"}},"dataSource":{"type":"SIGNAL","query":"SELECT\n(count(DISTINCT \"ARUniqueKey\"  ) FILTER\n(WHERE event_name = 'Clear Accounts Receivable' and \"AutomationFlag\" is null)\n/ \ncount(DISTINCT \"ARUniqueKey\"  ) FILTER \n(WHERE event_name IN \n('Clear Accounts Receivable')\n)\n) \n* 100\n FROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"8. Average AR Creation to Clearing Cycle Time (matched)","id":"8-average-ar-creation-to-clea-9","description":"Clearing Time","visualization":{"type":"VALUE","unit":{"type":"DURATION"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":2.4192E9}]}},"dataSource":{"type":"SIGNAL","query":"SELECT AVG(AVG_ClearingTime) FROM (\nSELECT case_id, \nevent_name, \nend_time - FIRST(end_time) FILTER (WHERE event_name = 'Create Accounts Receivable') OVER (PARTITION BY \"ARUniqueKey\" ORDER BY end_time)\nAS AVG_ClearingTime\nFROM FLATTEN(THIS_PROCESS)\n)\nAS temp\nWHERE event_name LIKE 'Clear Accounts Receivable'\n"},"filters":[],"children":[]},{"name":"Total Number of Receivables","id":"total-number-of-receivables-11","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT \ncount(DISTINCT \"ARUniqueKey\"  ) \nFROM FLATTEN(THIS_PROCESS)\nWHERE event_name = 'Create Accounts Receivable'"},"filters":[],"children":[]},{"name":"Total Invoiced  Amount (Global Currency)","id":"total-invoiced--amount-global-7","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"CURRENCY","currencyCode":"USD"}},"dataSource":{"type":"STRUCTURED","projections":[{"type":"METRIC","metric":"invoiced-amount-3"}]},"filters":[],"children":[]},{"name":"Invoice-to-Cash Process Discovery","id":"invoice-to-cash-process-disco-8","visualization":{"type":"FUZZY_MODEL","edgeGranularity":31,"nodeGranularity":8,"width":"FULL"},"dataSource":{"type":"STRUCTURED","projections":[{"type":"PARAMETERIZED","attribute":"CYCLE_TIME","aggregation":"SUM","parameter":{"type":"SEMANTIC_TYPE","semanticType":"CYCLE_TIME"}}]},"filters":[],"children":[]}]},{"name":"13. Top KPIs Comparison - Flow 2: Create AR --> Clear AR - Manual Payment Allocation","id":"13-top-kpis-comparison---flow-2","visualization":{"type":"CHAPTER"},"filters":[],"children":[{"name":"6.a Paid Late Ratio (only incl. clearly allocated payments ('SA','DZ'), by Volume)","id":"6a-paid-late-ratio-only-incl--8","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"yellow","value":20.0},{"colorAbove":"red","value":60.0}],"goal":50.0}},"dataSource":{"type":"SIGNAL","query":"SELECT (\nCOUNT (DISTINCT ARUniqueKey) \nFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable' \nAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n/ COUNT (DISTINCT ARUniqueKey) \nFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable' ) \n) * 100\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"6b. Paid Late Ratio (only incl. clearly allocated payments ('SA','DZ'), by Value)","id":"6b-paid-late-ratio-only-incl--8","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"yellow","value":20.0},{"colorAbove":"red","value":60.0}],"goal":50.0}},"dataSource":{"type":"SIGNAL","query":"SELECT (\nSUM (\"AmountInGlobalCurrency\" ) \nFILTER (WHERE EVENT_NAME = 'Clear Accounts Receivable'  \nAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n/ SUM (\"AmountInGlobalCurrency\" )\nFILTER (WHERE EVENT_NAME = 'Clear Accounts Receivable' )\n) * 100\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"4. Percentage of Payments Manually processed (out of all clearly allocated payments ('SA','DZ'))","id":"4-percentage-of-payments-manu-7","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"}},"dataSource":{"type":"SIGNAL","query":"SELECT\n(count(DISTINCT \"ARUniqueKey\"  ) FILTER\n(WHERE event_name = 'Clear Accounts Receivable' and \"AutomationFlag\" is null)\n/ \ncount(DISTINCT \"ARUniqueKey\"  ) FILTER \n(WHERE event_name IN \n('Clear Accounts Receivable')\n)\n) \n* 100\n FROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"8. Average AR Creation to Clearing Cycle Time (matched)","id":"8-average-ar-creation-to-clea-10","description":"Clearing Time","visualization":{"type":"VALUE","unit":{"type":"DURATION"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":2.4192E9}]}},"dataSource":{"type":"SIGNAL","query":"SELECT AVG(AVG_ClearingTime) FROM (\nSELECT case_id, \nClearingJournalEntry, \n--BillingDocument,\nevent_name, \nend_time - FIRST(end_time) \nFILTER (WHERE event_name = 'Create Accounts Receivable') OVER (PARTITION BY ARUniqueKey ORDER BY end_time)\nAS AVG_ClearingTime\nFROM FLATTEN(THIS_PROCESS)\n)\nAS temp\nWHERE event_name LIKE 'Clear Accounts Receivable'\n"},"filters":[],"children":[]},{"name":"Total Number of Receivables","id":"total-number-of-receivables-12","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT \ncount(DISTINCT \"ARUniqueKey\"  ) \nFROM FLATTEN(THIS_PROCESS)\nWHERE event_name = 'Create Accounts Receivable'"},"filters":[],"children":[]},{"name":"Total Invoiced  Amount (Global Currency - USD)","id":"total-invoiced--amount-global-8","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"CURRENCY","currencyCode":"USD"}},"dataSource":{"type":"STRUCTURED","projections":[{"type":"METRIC","metric":"invoiced-amount-3"}]},"filters":[],"children":[]},{"name":"Invoice-to-Cash Process Discovery","id":"invoice-to-cash-process-disco-9","visualization":{"type":"FUZZY_MODEL","edgeGranularity":31,"nodeGranularity":8,"width":"FULL"},"dataSource":{"type":"STRUCTURED","projections":[{"type":"PARAMETERIZED","attribute":"OCCURRENCES","aggregation":"SUM","parameter":{"type":"SEMANTIC_TYPE","semanticType":"OCCURRENCES"}}]},"filters":[],"children":[]}]},{"name":"20. Open and Overdue Accounts Receivables Analysis","id":"20-open-and-overdue-accounts--3","visualization":{"type":"CHAPTER"},"filters":[],"children":[{"name":"Open and Overdue Receivables Analysis","id":"open-and-overdue-receivables--3","description":"","visualization":{"type":"TEXT"},"dataSource":{"type":"STATIC","data":{"entityMap":{},"blocks":[{"depth":0,"data":{},"inlineStyleRanges":[{"offset":0,"length":16,"style":"ITALIC"}],"text":"In this section:","type":"unstyled","key":"2nslk","entityRanges":[]},{"depth":0,"data":{},"inlineStyleRanges":[{"offset":0,"length":104,"style":"ITALIC"}],"text":"Open receivables Analysis by Value  and Numbers, including deep dive by Aging and different dimensions. ","type":"unstyled","key":"1dfgh","entityRanges":[]}]}},"filters":[],"children":[]},{"name":"Total Number of Accounts Receivable Documents","id":"total-number-of-accounts-rece-9","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT count(DISTINCT \"ARUniqueKey\"  )\nFROM FLATTEN(THIS_PROCESS)\nWHERE event_name = 'Create Accounts Receivable'"},"filters":[],"children":[]},{"name":"Total Number of Open Receivables","id":"total-number-of-open-receivab-5","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT count(DISTINCT \"ARUniqueKey\"  ) \nFROM FLATTEN(THIS_PROCESS)\nWHERE\nevent_name = 'Create Accounts Receivable'\nAND ClearingDate  IS NULL"},"filters":[],"children":[]},{"name":"Invoice Open Amount","id":"invoice-open-amount-5","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"CURRENCY","currencyCode":"USD"}},"dataSource":{"type":"SIGNAL","query":"SELECT SUM(\"AR_InvoicedAmountInGlobalCurrency\" ) \n+ SUM(\"AR_ClearedAmountInGlobalCurrency\" )\nFROM THIS_PROCESS\n"},"filters":[],"children":[]},{"name":"Invoice Open Overdue Amount","id":"invoice-open-overdue-amount-3","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"CURRENCY","currencyCode":"USD"}},"dataSource":{"type":"SIGNAL","query":"SELECT \nSUM(\"AmountInGlobalCurrency\" )  \nFILTER (WHERE EVENT_NAME = 'Create Accounts Receivable' \nAND ClearingJournalEntry IS NULL\nAND NOW() >= NetDueDate )\nAS \"Amount\"\nFROM  FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Overdue Open Receivables  (15+ Days)","id":"overdue-open-receivables--15--5","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(DISTINCT ARUniqueKey) FILTER(\n\tWHERE\n    \tevent_name = 'Create Accounts Receivable'\n        AND ClearingDate IS NULL\n\t\tAND (NOW()-NetDueDate)> DURATION '15day'\n)\nFROM FLATTEN (THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Open Overdue Amount (15+ Days)","id":"open-overdue-amount-15-days-5","description":"+15 days","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"CURRENCY","currencyCode":"USD"}},"dataSource":{"type":"SIGNAL","query":"SELECT SUM(\"AmountInGlobalCurrency\"  ) \n FILTER(\n\tWHERE\n    \tevent_name = 'Create Accounts Receivable'\n        AND ClearingDate IS NULL\n\t\tAND (NOW()-NetDueDate)> DURATION '15day'\n)\nFROM FLATTEN (THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Outstanding Receivables for 30 days and more","id":"outstanding-receivables-for-3-6","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT COUNT(DISTINCT ARUniqueKey) FILTER(\n\tWHERE\n    \tevent_name = 'Create Accounts Receivable'\n        AND ClearingDate IS NULL\n\t\tAND (NOW()-DocumentDate)> DURATION '30day'\n)\nFROM FLATTEN (THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Average Net Payment Terms","id":"average-net-payment-terms-13","description":"AVG cycle Time from Document Date till Net Due Date","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT AVG (\"NetDueDate\" - \"DocumentDate\" ) \nFILTER (WHERE EVENT_NAME = 'Create Accounts Receivable' ) \nAs \"AVG Net Payment Terms\"\nFROM FLATTEN(THIS_PROCESS)\nWHERE  \"NetDueDate\" IS NOT NULL"},"filters":[],"children":[]},{"name":"Number Created Receivables over Time","id":"number-created-receivables-ov-4","description":"(Creation Date)","visualization":{"type":"AREA"},"dataSource":{"type":"SIGNAL","query":"SELECT  \n\tDATE_TRUNC('Day', \"end_time\" )  AS \"Creation Date\" ,\n\tCOUNT (DISTINCT ARUniqueKey) as \"# Receivables\" \n   \n   FROM FLATTEN(THIS_PROCESS)\n \nWHERE EVENT_NAME LIKE 'Create Accounts Receivable' \nORDER BY 1 ASC"},"filters":[],"children":[]},{"name":"Number Created Receivables over Time Posting","id":"number-created-receivables-ov-5","description":"(Creation Date)","visualization":{"type":"AREA"},"dataSource":{"type":"SIGNAL","query":"SELECT  \n\t\"PostingDate\"   AS \"Posting Date\" ,\n\tCOUNT (DISTINCT ARUniqueKey) as \"# Receivables\" \n   \n   FROM FLATTEN(THIS_PROCESS)\n \nWHERE EVENT_NAME LIKE 'Create Accounts Receivable' \nORDER BY 1 ASC"},"filters":[],"children":[]},{"name":"Aging: # Overdue Receivables","id":"aging--overdue-receivables-3","visualization":{"type":"BAR_CHART","orientation":"VERTICAL","grouping":"STACKED","thresholds":{"baseColor":"","type":"LINE","visible":false,"values":[{"value":10.0}]}},"dataSource":{"type":"SIGNAL","query":"SELECT \nCASE \n\nWHEN \n\t\t NOW() = NetDueDate THEN '1. Due'\n              \nWHEN \n\t\t(NOW()-NetDueDate)> DURATION '0day'\n        AND  (NOW()-NetDueDate)<= DURATION '7day'\n        THEN '2. 0-7 days'\n        \nWHEN \n\t\t(NOW()-NetDueDate)> DURATION '7day'\n        AND  (NOW()-NetDueDate)<= DURATION '14day'\n        THEN '3. 8-14 days'\nWHEN \n\t\t(NOW()-NetDueDate)> DURATION '14day'\n        AND  (NOW()-NetDueDate)<= DURATION '30day'\n        THEN '4. 15-30 days'\nWHEN \n\t\t(NOW()-NetDueDate)> DURATION '30day'\n        AND  (NOW()-NetDueDate)<= DURATION '60day'\n        THEN '5. 31-60 days'\n        \nWHEN \n\t\t(NOW()-NetDueDate)> DURATION '60day'\n        AND  (NOW()-NetDueDate)<= DURATION '90day'\n        THEN '6. 61-90 days'\n        \nWHEN \n\t\t(NOW()-NetDueDate)> DURATION '90day'\n        THEN '7. >90 days'\n        \nEND AS \"Overdue Category\",  count(DISTINCT \"ARUniqueKey\" ) as \"#Receivables\"\nFROM FLATTEN (THIS_PROCESS)\n\nWHERE NetDueDate is not null \n\t\tAND event_name = 'Create Accounts Receivable'\n        AND ClearingDate IS NULL\n        AND NOW() >= NetDueDate \n ORDER BY 1 ASC\n "},"filters":[],"children":[]},{"name":"Aging: Overdue Receivables by value","id":"aging-overdue-receivables-by--1","visualization":{"type":"BAR_CHART","orientation":"VERTICAL","grouping":"STACKED","thresholds":{"baseColor":"","type":"LINE","visible":false,"values":[{"value":10.0}]}},"dataSource":{"type":"SIGNAL","query":"SELECT \nCASE \n\nWHEN \n\t\t NOW() = NetDueDate THEN '1. Due'\n              \nWHEN \n\t\t(NOW()-NetDueDate)> DURATION '0day'\n        AND  (NOW()-NetDueDate)<= DURATION '7day'\n        THEN '2. 0-7 days'\n        \nWHEN \n\t\t(NOW()-NetDueDate)> DURATION '7day'\n        AND  (NOW()-NetDueDate)<= DURATION '14day'\n        THEN '3. 8-14 days'\nWHEN \n\t\t(NOW()-NetDueDate)> DURATION '14day'\n        AND  (NOW()-NetDueDate)<= DURATION '30day'\n        THEN '4. 15-30 days'\nWHEN \n\t\t(NOW()-NetDueDate)> DURATION '30day'\n        AND  (NOW()-NetDueDate)<= DURATION '60day'\n        THEN '5. 31-60 days'\n        \nWHEN \n\t\t(NOW()-NetDueDate)> DURATION '60day'\n        AND  (NOW()-NetDueDate)<= DURATION '90day'\n        THEN '6. 61-90 days'\n        \nWHEN \n\t\t(NOW()-NetDueDate)> DURATION '90day'\n        THEN '7. >90 days'\n        \nEND AS \"Overdue Category\",  SUM(\"AmountInGlobalCurrency\"  ) as \"#Receivables\"\nFROM FLATTEN (THIS_PROCESS)\n\nWHERE NetDueDate is not null \n\t\tAND event_name = 'Create Accounts Receivable'\n        AND ClearingDate IS NULL\n        AND NOW() >= NetDueDate \n ORDER BY 1 ASC\n "},"filters":[],"children":[]},{"name":"Open Overdue Receivables by Company Code","id":"open-overdue-receivables-by-c-7","description":"by Value","visualization":{"type":"HEAT_MAP"},"dataSource":{"type":"SIGNAL","query":"SELECT \n \"AR_CompanyCode\"  as \"Company Code\" ,\n\"Overdue Category\", \nSUM(\"AmountInGlobalCurrency\"  ) as \"Amount in Global Currency\"\nFROM FLATTEN (THIS_PROCESS)\n\nWHERE NetDueDate is not null \n\t\tAND event_name = 'Create Accounts Receivable'\n        AND ClearingDate IS NULL\n        AND NOW() >= NetDueDate \n GROUP BY 1,2\n ORDER BY  3 DESC\nLIMIT 20"},"filters":[],"children":[]},{"name":"Open Overdue Receivables by Company Code","id":"open-overdue-receivables-by-c-8","description":"by Value","visualization":{"type":"HEAT_MAP"},"dataSource":{"type":"SIGNAL","query":"SELECT \n \"AR_CompanyCode\"  as \"Company Code\" ,\n\"Overdue Category\", \nSUM(\"AmountInGlobalCurrency\"  ) as \"Amount in Global Currency\"\nFROM FLATTEN (THIS_PROCESS)\n\nWHERE NetDueDate is not null \n\t\tAND event_name = 'Create Accounts Receivable'\n        AND ClearingDate IS NULL\n        AND NOW() >= NetDueDate \n AND  \"AR_TradingPartner\" IS NOT NULL\n GROUP BY 1,2\n ORDER BY  3 DESC\nLIMIT 20"},"filters":[],"children":[]},{"name":"Open Overdue Receivables by Company Code","id":"open-overdue-receivables-by-c-9","description":"","visualization":{"type":"BAR_CHART","orientation":"HORIZONTAL","grouping":"STACKED"},"dataSource":{"type":"SIGNAL","query":"SELECT SUM(\"AmountInGlobalCurrency\" )  \nFILTER (WHERE EVENT_NAME = 'Create Accounts Receivable' \nAND ClearingJournalEntry IS NULL\nAND NOW() >= NetDueDate )\nAS \"Amount\",\n\"AR_CompanyCode\" AS \"Company Code\"\nFROM FLATTEN(THIS_PROCESS)\nGROUP BY 2\nORDER By 1 DESC\nLIMIT 10"},"filters":[],"children":[]},{"name":"Overdue Receivables by Trading Partner","id":"overdue-receivables-by-tradin-1","visualization":{"type":"HEAT_MAP"},"dataSource":{"type":"SIGNAL","query":"SELECT \n \"AR_TradingPartner\" as \"Trading Partner\" ,\n\"Overdue Category\", \nSUM(\"AmountInGlobalCurrency\"  ) as \"Amount EUR\"\nFROM FLATTEN (THIS_PROCESS)\n\nWHERE NetDueDate is not null \n\t\tAND event_name = 'Create Accounts Receivable'\n        AND ClearingDate IS NULL\n        AND NOW() >= NetDueDate \n AND  \"AR_TradingPartner\"  IS NOT NULL\n GROUP BY 1,2\n ORDER BY  3 DESC\n"},"filters":[],"children":[]},{"name":"Top 10 Customers with highest Open Receivables Amounts","id":"top-10-customers-with-highest-5","description":"AmountInCompanyCodeCurrency","visualization":{"type":"BAR_CHART","orientation":"HORIZONTAL","grouping":"STACKED","thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":500000.0}]}},"dataSource":{"type":"SIGNAL","query":"SELECT\n     \"AR_CustomerName\"  AS \"Customer\",\n    SUM(\"AmountInGlobalCurrency\" ) as \"Amount\"\nFROM FLATTEN(THIS_PROCESS)\nWHERE \"ClearingDate\"  IS NULL\nAND event_name =  'Create Accounts Receivable' \nGROUP BY 1\nORDER BY 2 DESC\nLIMIT 10\n"},"filters":[],"children":[]},{"name":"Overdue Receivables (15+ days overdue) by Value - Top 10  Customer ","id":"overdue-receivables-15-days-o-5","visualization":{"type":"BAR_CHART","orientation":"HORIZONTAL","grouping":"CLUSTERED","thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":100000.0}]}},"dataSource":{"type":"SIGNAL","query":"SELECT \"Overdue Amount\" , \"Customer\"\nFROM\n(\nSELECT SUM( \"AmountInGlobalCurrency\" ) \nFILTER (WHERE EVENT_NAME = 'Create Accounts Receivable' \nAND ClearingDate IS NULL AND (NOW() - NetDueDate) > DURATION '15day') \n--OVER ( PARTITION BY \"AR_Customer\")\nAS \"Overdue Amount\", \n\"AR_CustomerName\" as \"Customer\"\nFROM FLATTEN(THIS_PROCESS)\n) as selections\nWHERE  \"Overdue Amount\" IS NOT NULL\nORDER BY 1 DESC\n"},"filters":[],"children":[]},{"name":"Open Receivables by Customers","id":"open-receivables-by-customers-3","visualization":{"type":"TABLE","columnConfigurations":[{"columnName":"COUNT_DISTINCT(ARUniqueKey) / COUNT_DISTINCT(ARUniqueKey) * 100","columnAlias":"Late Payment Rate %","columnPosition":2,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":50.0}]}}},{"columnName":"COUNT_DISTINCT(ARUniqueKey) / COUNT_DISTINCT(ARUniqueKey) * 100","columnAlias":"Late Payment Rate %","columnPosition":2,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":50.0}]}}},{"columnName":"IF(AVG(ClearingDate - NetDueDate) < DURATION '0', NULL, AVG(ClearingDate - NetDueDate))","columnAlias":"AVG Paid Late Days","columnPosition":7,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":6.048E8}]}}},{"columnName":"COUNT_DISTINCT(ARUniqueKey) / COUNT_DISTINCT(ARUniqueKey) * 100","columnAlias":"Late Payment Rate %","columnPosition":2,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":50.0}]}}},{"columnName":"COUNT_DISTINCT(ARUniqueKey) / COUNT_DISTINCT(ARUniqueKey) * 100","columnAlias":"Late Payment Rate %","columnPosition":2,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":50.0}]}}},{"columnName":"IF(AVG(ClearingDate - NetDueDate) < DURATION '0', NULL, AVG(ClearingDate - NetDueDate))","columnAlias":"AVG Paid Late Days","columnPosition":7,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":6.048E8}]}}},{"columnName":"AVG Paid Late Days","columnAlias":"AVG Paid Late Days","columnPosition":7,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":8.64E7}]}}},{"columnName":"IF(AVG(Late Payment Rate %) % 1 >= 0.5, AVG(Late Payment Rate %) - AVG(Late Payment Rate %) % 1 + 1, AVG(Late Payment Rate %) - AVG(Late Payment Rate %) % 1)","columnAlias":"Late Payment Rate % (rounded)","columnPosition":5,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"yellow","value":20.0},{"colorAbove":"red","value":60.0}]}}}],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT\n    \n\t AR_CompanyCode AS \"Company Code\",\n    \"AR_Customer\" AS \"Customer Number\",\n    \"AR_CustomerName\" AS \"Customer\",\n    \n    AR_CustomerDunningBlock AS \"Customer Dunning Block\",\n    AR_CustomerDunningLevel As \"Customer Dunning Level\",\n    \"AR_CustomerPaymentTerms\" AS \"Customer Payment Terms\",\n\t\"# Total Open Receivables\",\n\t\"# Total Overdue Receivables\",\n\t\"Open Amount USD\",\n\t\"Open Overdue Amount USD\",\n\t\"AVG Net Payment Terms\",\n    AR_TradingPartner AS \"Customer Trading Partner\",\n    AR_CustomerCountry  AS \"Customer Country\",\n    AR_IsOneTimeCustomerAccount AS \"Is One-Time Customer?\", \n    AR_CustomerAccountingClerk AS \"Accounting Clerck\",\n    AR_CustomerCreditMemoPaymentTerms AS \"Customer CreditMemo Payment Terms\",\n    \n    AR_CustomerLastDunningDate AS \"Customer Last Dunning Date\",\n    AR_CustomerPaymentBlockingReason AS \"Customer Payment Blocking Reason\"\n\t\n\tFROM (\n    \n\tSELECT \n\t\n\tCOUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME = 'Create Accounts Receivable' \n    AND ClearingDate IS NULL)\n\tAs \"# Total Open Receivables\", \n    \n    SUM(AmountInGlobalCurrency) FILTER \n    \t(WHERE event_name = 'Create Accounts Receivable'\n        AND ClearingDate IS NULL) AS \"Open Amount USD\",\n\t\n\tCOUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE \n    \tevent_name = 'Create Accounts Receivable'\n        AND ClearingDate IS NULL\n        AND NOW() >= NetDueDate ) \n\t As \"# Total Overdue Receivables\",\n\t\n\tSUM(AmountInGlobalCurrency) FILTER \n    \t(WHERE event_name = 'Create Accounts Receivable'\n        AND ClearingDate IS NULL\n        AND NOW() >= NetDueDate ) \n       AS \"Open Overdue Amount USD\",\n\t\n\tAVG (\"NetDueDate\" - \"DocumentDate\" ) FILTER \n    (WHERE EVENT_NAME LIKE 'Create Accounts Receivable') \n\tAs \"AVG Net Payment Terms\",\n    AR_CompanyCode,\n  \n    \"AR_Customer\",\n\tAR_CustomerName,\n\t\n    AR_TradingPartner,\n    AR_CustomerCountry,\n    AR_IsOneTimeCustomerAccount, \n    AR_CustomerAccountingClerk ,\n    AR_CustomerCreditMemoPaymentTerms,\n    AR_CustomerLastDunningDate,\n    AR_CustomerPaymentBlockingReason,\n    AR_CustomerPaymentTerms,\n    AR_CustomerDunningBlock\n    ,AR_CustomerDunningLevel\n\nFROM FLATTEN(THIS_PROCESS)\n\nWHERE \n\t\t\"ClearingDate\" IS NULL \n\t\tAND \"NetDueDate\" IS NOT NULL\n\t\tAND AR_Customer IS NOT NULL \n\t\tAND EVENT_NAME = 'Create Accounts Receivable'\n) as selections\n\nORDER BY 7 DESC"},"filters":[{"type":"PROCESS_VAR_CHOICE","id":"processvarchoice-176","enabled":true,"processVariable":"overdue-category-5","parameter":{"type":"PROCESS_VARIABLE","name":"Overdue Category"},"includes":["7. >90 days"]}],"children":[]},{"name":"Open Overdue Receivables Details","id":"open-overdue-receivables-deta-3","visualization":{"type":"TABLE","columnConfigurations":[{"columnName":"ClearingDate - NetDueDate","columnAlias":"Paid Late Days","columnPosition":7,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":6.048E8}]}}},{"columnName":"ClearingDate - NetDueDate","columnAlias":"Paid Late Days","columnPosition":7,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":6.048E8}]}}},{"columnName":"IF(Overdue Category IS NOT NULL, 1, NULL)","columnAlias":"Overdue?","columnPosition":6,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":1.0}]}}},{"columnName":"IF(Overdue Category != 0. Not Due, 1, NULL)","columnAlias":"Overdue?","columnPosition":6,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":1.0}]}}}],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT \n    DISTINCT \n\trow_number(AccountingDocument) OVER (PARTITION BY case_id) AS \"#\",\n\tCompanyCode,\n    \"case_id\" , \n    \"AR_Customer\" AS \"Customer Number\",\n    \"AR_CustomerName\" AS \"Customer\",\n    \"AR_CustomerPaymentTerms\"  AS \"Customer Payment Terms\",\n     AR_TradingPartner as \"Trading Partner\",\n    \"end_time\"  as \"Creation Time\",\n    AccountingDocument,\n    \"NetDueDate\" - \"DocumentDate\" As \"Net Payment Terms\",\n    CASE WHEN \"Overdue Category\" != '0. Not Due' THEN 1 ELSE NULL END AS \"Overdue?\",\n    \"Overdue Category\",\n    AccountingDocumentItem,\n    LedgerGLLineItem,\n    FiscalYear,\n    AmountInTransactionCurrency,\n    TransactionCurrency,\n    AmountInCompanyCodeCurrency,\n    CompanyCodeCurrency,\n    \"AmountInGlobalCurrency\" ,\n    \"GlobalCurrency\" ,\n    CreationDateTime,\n    DocumentDate,\n\tNetDueDate,\n    BillingDocument,\n    ClearingJournalEntry,\n    ClearingDate\n   \nFROM FLATTEN(THIS_PROCESS)\nWHERE event_name = 'Create Accounts Receivable'\nAND ClearingJournalEntry IS NULL\nORDER BY  13 ASC"},"filters":[],"children":[]},{"name":"Aging: Last Dunning by Customer with Overdue AR","id":"aging-last-dunning-by-custome-3","visualization":{"type":"TABLE","columnConfigurations":[],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT \n\"AR_CompanyCode\" AS \"Company Code\",\nAR_CustomerName AS \"Customer\",\ncount(DISTINCT \"ARUniqueKey\" ) as \"# Overdue Receivables\",\nCASE \n\nWHEN \n\t\t(NOW()-AR_CustomerLastDunningDate)> DURATION '0day'\n        AND  (NOW()-AR_CustomerLastDunningDate)<= DURATION '7day'\n        THEN '2. 0-7 days'\n        \nWHEN \n\t\t(NOW()-AR_CustomerLastDunningDate)> DURATION '7day'\n        AND  (NOW()-AR_CustomerLastDunningDate)<= DURATION '14day'\n        THEN '3. 8-14 days'\nWHEN \n\t\t(NOW()-AR_CustomerLastDunningDate)> DURATION '14day'\n        AND  (NOW()-AR_CustomerLastDunningDate)<= DURATION '30day'\n        THEN '4. 15-30 days'\nWHEN \n\t\t(NOW()-AR_CustomerLastDunningDate)> DURATION '30day'\n        AND  (NOW()-AR_CustomerLastDunningDate)<= DURATION '60day'\n        THEN '5. 31-60 days'\n        \nWHEN \n\t\t(NOW()-AR_CustomerLastDunningDate)> DURATION '60day'\n        AND  (NOW()-AR_CustomerLastDunningDate)<= DURATION '90day'\n        THEN '6. 61-90 days'\n        \nWHEN \n\t\t(NOW()-AR_CustomerLastDunningDate)> DURATION '90day'\n        THEN '7. >90 days'\nELSE '1.No Dunning'        \nEND AS \"Last Dunning Aging Category\"\n,AR_CustomerLastDunningDate AS \"Last Dunning Date\"\nFROM FLATTEN (THIS_PROCESS)\n\nWHERE NetDueDate is not null \n\t\tAND event_name = 'Create Accounts Receivable'\n        AND ClearingDate IS NULL\n        AND NOW() >= NetDueDate\n ORDER BY 3 DESC, 2 DESC"},"filters":[],"children":[]}]},{"name":"30. Payment Behaviour Analysis","id":"30-payment-behaviour-analysis-3","visualization":{"type":"CHAPTER"},"filters":[],"children":[{"name":"Total Number of Cleared Receivables","id":"total-number-of-cleared-recei-5","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT count(DISTINCT \"ARUniqueKey\"  ) FROM FLATTEN(THIS_PROCESS)\nWHERE event_name LIKE 'Clear%'"},"filters":[],"children":[]},{"name":"Cleared Amount","id":"cleared-amount-4","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"CURRENCY","currencyCode":"USD"}},"dataSource":{"type":"SIGNAL","query":"SELECT SUM(\"AmountInGlobalCurrency\" )\nFROM FLATTEN(THIS_PROCESS)\nWHERE event_name LIKE 'Clear%'"},"filters":[],"children":[]},{"name":"Average Clearing Time","id":"average-clearing-time-6","description":"From AR Creation till Clearing - including Other Clearing","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT \nAVG (\"ClearingDate\" - \"CreationDate\" ) \nFILTER (WHERE EVENT_NAME LIKE 'Clear%' ) \nAs \"AVG Clearing Time\"\nFROM FLATTEN(THIS_PROCESS)\nWHERE \"ClearingDate\" IS NOT NULL AND \"NetDueDate\" IS NOT NULL"},"filters":[],"children":[]},{"name":"Average Payment Time","id":"average-payment-time-3","description":"From AR Creation Date till Payment","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT \nAVG (\"ClearingDate\"   - \"CreationDate\"  ) \nFILTER (WHERE EVENT_NAME LIKE 'Clear%' ) \nAs \"AVG Clearing Time\"\nFROM FLATTEN(THIS_PROCESS)\nWHERE \"ClearingDate\" IS NOT NULL AND \"NetDueDate\" IS NOT NULL"},"filters":[],"children":[]},{"name":"Late Payment Rate  (by Volume)","id":"late-payment-rate--by-volume-3","description":"by count of documents","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"}},"dataSource":{"type":"SIGNAL","query":"SELECT (\nCOUNT (DISTINCT ARUniqueKey) \nFILTER (WHERE EVENT_NAME LIKE 'Clear%' \nAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n/ COUNT (DISTINCT ARUniqueKey) \nFILTER (WHERE EVENT_NAME LIKE 'Clear%' ) \n) * 100\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Average Days from Reach Net Due Date till Payment","id":"average-days-from-reach-net-d-3","description":"Clearing Time - Net Due Date (Paid Late Days)","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"DURATION"}},"dataSource":{"type":"SIGNAL","query":"SELECT AVG (\"ClearingDate\" - \"NetDueDate\")\nFILTER (WHERE EVENT_NAME LIKE 'Clear%'  )\n AS \"AVG Paid Late Days\"\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Average Net Payment Terms","id":"average-net-payment-terms-14","description":"AVG cycle Time from Document Date till Net Due Date","visualization":{"type":"VALUE"},"dataSource":{"type":"SIGNAL","query":"SELECT AVG (\"NetDueDate\" - \"DocumentDate\" ) \nFILTER (WHERE EVENT_NAME = 'Create Accounts Receivable' ) \nAs \"AVG Net Payment Terms\"\nFROM FLATTEN(THIS_PROCESS)\nWHERE  \"NetDueDate\" IS NOT NULL"},"filters":[],"children":[]},{"name":"Late Payment Rate (by Volume) over Time","id":"late-payment-rate-by-volume-o-3","description":"(Clearing Date)","visualization":{"type":"AREA"},"dataSource":{"type":"SIGNAL","query":"SELECT  \n\tDATE_TRUNC('month', end_time)  AS \"Clearing Date\" ,\n    \n\tCOUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear%'\n\tAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n\t/ COUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear%' ) \n \t* 100 as \"Late Payment Rate %\"\n       \n     FROM FLATTEN(THIS_PROCESS)\nWHERE EVENT_NAME LIKE 'Clear%'\nORDER BY 1 ASC"},"filters":[],"children":[]},{"name":"AVG Payment Time","id":"avg-payment-time-3","description":"(Clearing Date)","visualization":{"type":"AREA"},"dataSource":{"type":"SIGNAL","query":"SELECT  \n\tDATE_TRUNC('month', end_time)  AS \"Clearing Date\" ,\n    \n\tAVG (\"ClearingDate\"   - \"CreationDate\"  ) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear%' ) \n\tAs \"AVG Clearing Time\"\n       \n     FROM FLATTEN(THIS_PROCESS)\nWHERE EVENT_NAME LIKE 'Clear%'\nORDER BY 1 ASC"},"filters":[],"children":[]},{"name":"Top 10 Customers with highest Invoiced Amounts","id":"top-10-customers-with-highest-6","visualization":{"type":"BAR_CHART","orientation":"HORIZONTAL","grouping":"STACKED"},"dataSource":{"type":"SIGNAL","query":"SELECT\n    AR_CustomerName AS \"Customer\",\n    SUM(\"AR_InvoicedAmountInGlobalCurrency\") AS \"Amount\"\nFROM THIS_PROCESS\nWHERE AR_CustomerName IS NOT NULL\n\nGROUP BY 1\nORDER BY 2 DESC\nLIMIT 10\n"},"filters":[],"children":[]},{"name":"Top 10 Customers with highest Invoiced Amounts Paid Late","id":"top-10-customers-with-highest-7","visualization":{"type":"BAR_CHART","orientation":"HORIZONTAL","grouping":"STACKED"},"dataSource":{"type":"SIGNAL","query":"SELECT\n    AR_CustomerName AS \"Customer\",\n    SUM(\"AmountInGlobalCurrency\" ) AS \"Amount\"\nFROM FLATTEN(THIS_PROCESS)\nWHERE AR_CustomerName IS NOT NULL\nAND EVENT_NAME LIKE 'Clear%' \nAND (ClearingDate   - NetDueDate)  > DURATION '1day'\nGROUP BY 1\nORDER BY 2 DESC\nLIMIT 10\n"},"filters":[],"children":[]},{"name":"Late Payment Rate by Customers","id":"late-payment-rate-by-customer-5","visualization":{"type":"TABLE","columnConfigurations":[{"columnName":"COUNT_DISTINCT(ARUniqueKey) / COUNT_DISTINCT(ARUniqueKey) * 100","columnAlias":"Late Payment Rate %","columnPosition":2,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":50.0}]}}},{"columnName":"COUNT_DISTINCT(ARUniqueKey) / COUNT_DISTINCT(ARUniqueKey) * 100","columnAlias":"Late Payment Rate %","columnPosition":2,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":50.0}]}}},{"columnName":"IF(AVG(ClearingDate - NetDueDate) < DURATION '0', NULL, AVG(ClearingDate - NetDueDate))","columnAlias":"AVG Paid Late Days","columnPosition":7,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":6.048E8}]}}},{"columnName":"COUNT_DISTINCT(ARUniqueKey) / COUNT_DISTINCT(ARUniqueKey) * 100","columnAlias":"Late Payment Rate %","columnPosition":2,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":50.0}]}}},{"columnName":"COUNT_DISTINCT(ARUniqueKey) / COUNT_DISTINCT(ARUniqueKey) * 100","columnAlias":"Late Payment Rate %","columnPosition":2,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":50.0}]}}},{"columnName":"IF(AVG(ClearingDate - NetDueDate) < DURATION '0', NULL, AVG(ClearingDate - NetDueDate))","columnAlias":"AVG Paid Late Days","columnPosition":7,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":6.048E8}]}}},{"columnName":"AVG Paid Late Days","columnAlias":"AVG Paid Late Days","columnPosition":7,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":8.64E7}]}}},{"columnName":"IF(AVG(Late Payment Rate %) % 1 >= 0.5, AVG(Late Payment Rate %) - AVG(Late Payment Rate %) % 1 + 1, AVG(Late Payment Rate %) - AVG(Late Payment Rate %) % 1)","columnAlias":"Late Payment Rate % (rounded)","columnPosition":5,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"yellow","value":20.0},{"colorAbove":"red","value":60.0}]}}}],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT\n    \"AR_Customer\" AS \"Customer Number\",\n    \"AR_CustomerName\" AS \"Customer\",\n    \"AR_CompanyCode\" AS \"Company Code\",  \n    \"AR_TradingPartner\" as \"Trading Partner\",\n\t\"# Cleared Receivables\",\n\t\"# Cleared with Payment Receivables\",\n\t\"Cleared Amount\",\n\tCASE\n\t    WHEN (avg(\"Late Payment Rate %\") % 1) >= 0.5 \n\t    THEN avg(\"Late Payment Rate %\") - \n\t(avg(\"Late Payment Rate %\") % 1) + 1\n\t    ELSE avg(\"Late Payment Rate %\") - \n\t(avg(\"Late Payment Rate %\") % 1)\n\tEND AS \"Late Payment Rate % (rounded)\",\n\t\"AR_CustomerPaymentTerms\"  AS \"Customer Payment Terms\",\n\t\"AVG Net Payment Terms\",\n\t\"AVG Payment Time\",\n\t\"AVG Paid Late Days\",\n    AR_TradingPartner AS \"Customer Trading Partner\",\n    AR_CustomerCountry  AS \"Customer Country\",\n    AR_IsOneTimeCustomerAccount AS \"Is One-Time Customer?\", \n    AR_CustomerAccountingClerk AS \"Accounting Clerck\",\n    AR_CustomerCreditMemoPaymentTerms AS \"Customer CreditMemo Payment Terms\",\n    AR_CustomerDunningBlock AS \"Customer Dunning Block\",\n    AR_CustomerPaymentBlockingReason AS \"Customer Payment Blocking Reason\"\n\t\n\tFROM (\n\tSELECT \n\t\"AR_CustomerName\" AS \"Customer\",\n\t\n\tCOUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME = 'Clear Accounts Receivable') \n\tAs \"# Cleared Receivables\", \n\tCOUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable') \n\tAs \"# Cleared with Payment Receivables\",\n\tSUM(\"AmountInGlobalCurrency\" )\n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable')\n\tAs \"Cleared Amount\",\n\t(\n\tCOUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable' \n\tAND (ClearingDate   - NetDueDate)  > DURATION '1day')  \n\t/ COUNT (DISTINCT ARUniqueKey) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable') \n\t) * 100\n\tAS \"Late Payment Rate %\",\n\t\n\tAVG (\"NetDueDate\" - \"DocumentDate\" ) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable') \n\tAs \"AVG Net Payment Terms\",\n\t\n\tAVG (\"ClearingDate\" - \"DocumentDate\" ) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable') \n\tAs \"AVG Payment Time\",\n\t\n\tCASE \n\tWHEN AVG (\"ClearingDate\" - \"NetDueDate\") < DURATION '0day' \n\tTHEN NULL\n\tELSE\n\tAVG (\"ClearingDate\" - \"NetDueDate\")\n\tFILTER (WHERE EVENT_NAME LIKE 'Clear Accounts Receivable')\n\tEND AS \"AVG Paid Late Days\",\n    AR_CompanyCode,\n \tAR_Customer,\n\tAR_CustomerName,\n    AR_TradingPartner,\n    AR_CustomerCountry,\n    AR_IsOneTimeCustomerAccount, \n    AR_CustomerAccountingClerk ,\n    AR_CustomerCreditMemoPaymentTerms,\n    AR_CustomerDunningBlock,\n    AR_CustomerPaymentBlockingReason,\n    AR_CustomerPaymentTerms\n\nFROM FLATTEN(THIS_PROCESS)\nWHERE \"ClearingDate\" IS NOT NULL AND \"NetDueDate\" IS NOT NULL\nAND AR_Customer IS NOT NULL \nAND EVENT_NAME LIKE 'Clear Accounts Receivable'\n) as selections\nORDER BY 5 DESC, 6 DESC"},"filters":[],"children":[]},{"name":"Receivables Details (Cleared) ","id":"receivables-details-cleared--3","visualization":{"type":"TABLE","columnConfigurations":[{"columnName":"ClearingDate - NetDueDate","columnAlias":"Paid Late Days","columnPosition":7,"settings":{"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":6.048E8}]}}}],"grouped":false},"dataSource":{"type":"SIGNAL","query":"SELECT  DISTINCT \nrow_number(AccountingDocument) OVER (PARTITION BY case_id) AS \"#\"\n    ,\"case_id\" , \n    \"AR_Customer\" as \"Customer Number\", \n    \"AR_CustomerName\" AS \"Customer\",\n    \"end_time\"  as \"Creation Time\",\n    AccountingDocument,\n    \"ClearingDate\" - \"DocumentDate\" \nAs \"Clearing Time\",\nCASE WHEN  (ClearingDate   - NetDueDate)  > DURATION '1day' THEN 'Paid Late'\nELSE 'Paid On Time' END AS \"Late Payment Category\",\n\n\"NetDueDate\" - \"DocumentDate\" As \"Net Payment Terms\",\n\n\"ClearingDate\" - \"NetDueDate\" AS \"Paid Late Days\",\n    AccountingDocumentItem,\n    LedgerGLLineItem,\n    CompanyCode,\n    FiscalYear,\n   \n   AmountInTransactionCurrency,\n    TransactionCurrency,\n    AmountInCompanyCodeCurrency,\n    CompanyCodeCurrency,\n    NetDueDate,\n    CreationDateTime,\n    DocumentDate,\n  \"PostingDate\" ,\n    ClearingDate,\n    ClearingJournalEntry,\n    ClearingJournalEntryFiscalYear,\n    \n      BillingDocument\nFROM FLATTEN(THIS_PROCESS)\nWHERE event_name LIKE 'Clear%'\nORDER BY 2,1"},"filters":[],"children":[]},{"name":"Average Payment Time Over Time and Company Codes","id":"average-payment-time-over-tim-2","visualization":{"type":"BAR_CHART","orientation":"VERTICAL","grouping":"CLUSTERED"},"dataSource":{"type":"SIGNAL","query":"SELECT  \n\tDATE_TRUNC('month', end_time)  AS \"Clearing Date\" ,\n    \n\tAVG (\"ClearingDate\"   - \"CreationDate\"  ) \n\tFILTER (WHERE EVENT_NAME LIKE 'Clear%' ) \n\tAs \"AVG Clearing Time\",\n    AR_CompanyCode\n       \n     FROM FLATTEN(THIS_PROCESS)\nWHERE EVENT_NAME LIKE 'Clear%'\nORDER BY 1 ASC"},"filters":[],"children":[]}]},{"name":"40. Payment Analysis","id":"40-payment-analysis-3","visualization":{"type":"CHAPTER"},"filters":[],"children":[{"name":"Percentage of Payments Manually processed","id":"percentage-of-payments-manual-3","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"}},"dataSource":{"type":"SIGNAL","query":"SELECT\n(count(DISTINCT \"ARUniqueKey\"  ) FILTER\n(WHERE event_name = 'Clear Accounts Receivable' and \"AutomationFlag\" is null)\n/ \ncount(DISTINCT \"ARUniqueKey\"  ) FILTER \n(WHERE event_name IN ('Clear Accounts Receivable'))\n) * 100\n FROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Percentage of Payments Automatically processed","id":"percentage-of-payments-automa-3","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"}},"dataSource":{"type":"SIGNAL","query":"SELECT\n(count(DISTINCT \"ARUniqueKey\"  ) FILTER\n(WHERE event_name = 'Clear Accounts Receivable' and \"AutomationFlag\" = 'X')\n/ \ncount(DISTINCT \"ARUniqueKey\"  ) FILTER \n(WHERE event_name IN \n('Clear Accounts Receivable'))\n) * 100\n FROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Number of AR with Automated Payment Allocation","id":"number-of-ar-with-automated-p-2","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":0,"mode":"ROUND_CLOSEST"}},"dataSource":{"type":"SIGNAL","query":"SELECT\ncount(DISTINCT \"ARUniqueKey\"  ) FILTER \n(WHERE event_name IN \n('Clear Accounts Receivable') and \"AutomationFlag\"  = 'X')\n FROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Number of AR with Manual Payment Allocation","id":"number-of-ar-with-manual-paym-3","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":0,"mode":"ROUND_CLOSEST"}},"dataSource":{"type":"SIGNAL","query":"SELECT\ncount(DISTINCT \"ARUniqueKey\"  ) FILTER \n(WHERE event_name = 'Clear Accounts Receivable' and \"AutomationFlag\" is null)\n FROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Number of Manually allocated Payments over Time","id":"number-of-manually-allocated--1","visualization":{"type":"TIME_SERIES"},"dataSource":{"type":"SIGNAL","query":"SELECT\n    DATE_TRUNC('MONTH', times) as Month,\n   (count(DISTINCT \"ARUniqueKey\"  ) FILTER\n\t(WHERE event_name = 'Clear Accounts Receivable' and \"AutomationFlag\" != 'X')\n\t/ \n\tcount(DISTINCT \"ARUniqueKey\"  ) FILTER \n\t(WHERE event_name IN \n\t('Clear Accounts Receivable'))\n\t) * 100  as \"% of Manually allocated Payments\"\nFROM\n(SELECT\n\t\"end_time\" as times,\n    event_name,\n    ARUniqueKey,\n    \"AutomationFlag\" \n    \n    FROM FLATTEN(THIS_PROCESS)\n        \n    ) as temp\n   WHERE event_name IN \n\t('Clear Accounts Receivable')\n\tORDER BY 1 ASC "},"filters":[],"children":[]},{"name":"# of Manually allocated Payments by Company Code","id":"-of-manually-allocated-paymen-5","description":"","visualization":{"type":"BAR_CHART","orientation":"HORIZONTAL","grouping":"STACKED"},"dataSource":{"type":"SIGNAL","query":"SELECT (count(DISTINCT \"ARUniqueKey\"  ) FILTER\n(WHERE event_name = 'Clear Accounts Receivable' and \"AutomationFlag\" is null)\n/ \ncount(DISTINCT \"ARUniqueKey\"  ) FILTER \n(WHERE event_name IN \n('Clear Accounts Receivable'))\n) * 100 as \"% of Manually allocated Payments\",\n\"AR_CompanyCode\" AS \"Company Code\"\n\nFROM FLATTEN(THIS_PROCESS)\nGROUP BY 2\nORDER By 1 DESC\nLIMIT 10"},"filters":[],"children":[]}]},{"name":"98. Billing Documents","id":"98-billing-documents-2","visualization":{"type":"CHAPTER"},"filters":[],"children":[{"name":"Number of Billing Documents created","id":"number-of-billing-documents-c-11","visualization":{"type":"VALUE","thresholds":{"baseColor":"green","type":"REGION","visible":false,"values":[{"colorAbove":"red","value":10.0}]}},"dataSource":{"type":"SIGNAL","query":"SELECT \n\nCOUNT(DISTINCT \"BillingDocument\") FILTER (\n\tWHERE event_name ='Create Billing Document')\n\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Percentage of Billing Documents Cancelled","id":"percentage-of-billing-documen-10","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":2,"mode":"ROUND_CLOSEST"},"unit":{"type":"SUFFIX","suffix":"%"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":5.0}]}},"dataSource":{"type":"SIGNAL","query":"SELECT \nCOUNT(DISTINCT \"BillingDocument\") FILTER (\n\tWHERE event_name ='Cancel Billing Document')\n/\nCOUNT(DISTINCT \"BillingDocument\") FILTER (\n\tWHERE event_name ='Create Billing Document')\n* 100\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Number of Billing Documents Cancelled","id":"number-of-billing-documents-c-12","visualization":{"type":"VALUE","rounding":{"numberOfDecimals":0,"mode":"ROUND_CLOSEST"}},"dataSource":{"type":"SIGNAL","query":"SELECT \nCOUNT(DISTINCT \"BillingDocument\") FILTER (\n\tWHERE event_name ='Cancel Billing Document')\n\nFROM FLATTEN(THIS_PROCESS)"},"filters":[],"children":[]},{"name":"Billed (Invoiced) Amount over time","id":"billed-invoiced-amount-over-t-5","visualization":{"type":"BAR_CHART","orientation":"VERTICAL","grouping":"CLUSTERED"},"dataSource":{"type":"SIGNAL","query":"SELECT \n\tDATE_TRUNC('month', \n    (SELECT FIRST(end_time) \n    FILTER (WHERE event_name = 'Create Accounts Receivable' ))) AS \"AR Creation Date\",\n    SUM(\"AR_InvoicedAmountInCompanyCodeCurrency\") AS \"Total Amount\"\n\tFROM THIS_PROCESS\nORDER BY 1\nFILL TIMESERIES('month')\n"},"filters":[],"children":[]},{"name":"8. Average AR Creation to Clearing Cycle Time (OLD)","id":"8-average-ar-creation-to-clea-11","description":"Clearing Time","visualization":{"type":"VALUE","unit":{"type":"DURATION"},"thresholds":{"baseColor":"green","type":"REGION","visible":true,"values":[{"colorAbove":"red","value":2.4192E9}]}},"dataSource":{"type":"SIGNAL","query":"SELECT AVG(\"AVG Clearing Time\") as \"AVG Clearing Time\"\nFROM (\nSELECT \nLAST (\"end_time\")  FILTER (\n\tWHERE event_name LIKE 'Clear%' )\n-\nLAST(\"end_time\") FILTER (\n\tWHERE event_name = 'Create Accounts Receivable' )\nAs \"AVG Clearing Time\"\n\nFROM FLATTEN(THIS_PROCESS)\n) as temp"},"filters":[],"children":[]}]}]},"metricsBar":[],"eventToShapeMappings":{"mappings":[]}}}